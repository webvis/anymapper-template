const Ki=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};Ki();function U(){}function F(e,t){for(const n in t)e[n]=t[n];return e}function ri(e){return e()}function sr(){return Object.create(null)}function be(e){e.forEach(ri)}function We(e){return typeof e=="function"}function Z(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Qi(e){return Object.keys(e).length===0}function ii(e,...t){if(e==null)return U;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function je(e){let t;return ii(e,n=>t=n)(),t}function V(e,t,n){e.$$.on_destroy.push(ii(t,n))}function Se(e,t,n,r){if(e){const i=oi(e,t,n,r);return e[0](i)}}function oi(e,t,n,r){return e[1]&&r?F(n.ctx.slice(),e[1](r(t))):n.ctx}function $e(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(t.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(t.dirty.length,i.length);for(let u=0;u<o;u+=1)s[u]=t.dirty[u]|i[u];return s}return t.dirty|i}return t.dirty}function Me(e,t,n,r,i,s){if(i){const o=oi(t,n,r,s);e.p(o,i)}}function Ce(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function it(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function ue(e,t){const n={};t=new Set(t);for(const r in e)!t.has(r)&&r[0]!=="$"&&(n[r]=e[r]);return n}function de(e,t,n){return e.set(n),t}function ge(e){return e&&We(e.destroy)?e.destroy:U}function yn(e,t){e.appendChild(t)}function z(e,t,n){e.insertBefore(t,n||null)}function I(e){e.parentNode.removeChild(e)}function Ji(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function we(e){return document.createElement(e)}function mt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Dn(e){return document.createTextNode(e)}function Ut(){return Dn(" ")}function jn(){return Dn("")}function Ht(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function eo(e){return function(t){return t.preventDefault(),e.call(this,t)}}function to(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function P(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ve(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)t[r]==null?e.removeAttribute(r):r==="style"?e.style.cssText=t[r]:r==="__value"?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:P(e,r,t[r])}function no(e){return Array.from(e.childNodes)}function ro(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ur(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Je(e,t,n){e.classList[n?"add":"remove"](t)}function io(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}let _t;function pt(e){_t=e}function fe(){if(!_t)throw new Error("Function called outside component initialization");return _t}function si(e){fe().$$.on_mount.push(e)}function oo(e){fe().$$.on_destroy.push(e)}function so(){const e=fe();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=io(t,n,{cancelable:r});return i.slice().forEach(o=>{o.call(e,s)}),!s.defaultPrevented}return!0}}function uo(e,t){return fe().$$.context.set(e,t),t}function lo(e){return fe().$$.context.get(e)}function ao(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const ft=[],ye=[],It=[],lr=[],co=Promise.resolve();let bn=!1;function fo(){bn||(bn=!0,co.then(ui))}function xn(e){It.push(e)}const an=new Set;let $t=0;function ui(){const e=_t;do{for(;$t<ft.length;){const t=ft[$t];$t++,pt(t),ho(t.$$)}for(pt(null),ft.length=0,$t=0;ye.length;)ye.pop()();for(let t=0;t<It.length;t+=1){const n=It[t];an.has(n)||(an.add(n),n())}It.length=0}while(ft.length);for(;lr.length;)lr.pop()();bn=!1,an.clear(),pt(e)}function ho(e){if(e.fragment!==null){e.update(),be(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(xn)}}const qt=new Set;let Fe;function Fn(){Fe={r:0,c:[],p:Fe}}function Bn(){Fe.r||be(Fe.c),Fe=Fe.p}function M(e,t){e&&e.i&&(qt.delete(e),e.i(t))}function O(e,t,n,r){if(e&&e.o){if(qt.has(e))return;qt.add(e),Fe.c.push(()=>{qt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function ot(e,t){const n={},r={},i={$$scope:1};let s=e.length;for(;s--;){const o=e[s],u=t[s];if(u){for(const l in o)l in u||(r[l]=1);for(const l in u)i[l]||(n[l]=u[l],i[l]=1);e[s]=u}else for(const l in o)i[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function ar(e){return typeof e=="object"&&e!==null?e:{}}function oe(e){e&&e.c()}function Q(e,t,n,r){const{fragment:i,on_mount:s,on_destroy:o,after_update:u}=e.$$;i&&i.m(t,n),r||xn(()=>{const l=s.map(ri).filter(We);o?o.push(...l):be(l),e.$$.on_mount=[]}),u.forEach(xn)}function J(e,t){const n=e.$$;n.fragment!==null&&(be(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function po(e,t){e.$$.dirty[0]===-1&&(ft.push(e),fo(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function te(e,t,n,r,i,s,o,u=[-1]){const l=_t;pt(e);const a=e.$$={fragment:null,ctx:null,props:s,update:U,not_equal:i,bound:sr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:sr(),dirty:u,skip_bound:!1,root:t.target||l.$$.root};o&&o(a.root);let c=!1;if(a.ctx=n?n(e,t.props||{},(f,h,..._)=>{const w=_.length?_[0]:h;return a.ctx&&i(a.ctx[f],a.ctx[f]=w)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](w),c&&po(e,f)),h}):[],a.update(),c=!0,be(a.before_update),a.fragment=r?r(a.ctx):!1,t.target){if(t.hydrate){const f=no(t.target);a.fragment&&a.fragment.l(f),f.forEach(I)}else a.fragment&&a.fragment.c();t.intro&&M(e.$$.fragment),Q(e,t.target,t.anchor,t.customElement),ui()}pt(l)}class ne{$destroy(){J(this,1),this.$destroy=U}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Qi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ke=[];function mo(e,t){return{subscribe:K(e,t).subscribe}}function K(e,t=U){let n;const r=new Set;function i(u){if(Z(e,u)&&(e=u,n)){const l=!Ke.length;for(const a of r)a[1](),Ke.push(a,e);if(l){for(let a=0;a<Ke.length;a+=2)Ke[a][0](Ke[a+1]);Ke.length=0}}}function s(u){i(u(e))}function o(u,l=U){const a=[u,l];return r.add(a),r.size===1&&(n=t(i)||U),u(e),()=>{r.delete(a),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}var _o={value:()=>{}};function Un(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new zt(n)}function zt(e){this._=e}function go(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}zt.prototype=Un.prototype={constructor:zt,on:function(e,t){var n=this._,r=go(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=wo(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=cr(n[i],e.name,t);else if(t==null)for(i in n)n[i]=cr(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new zt(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function wo(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function cr(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=_o,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var En="http://www.w3.org/1999/xhtml";const fr={svg:"http://www.w3.org/2000/svg",xhtml:En,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),fr.hasOwnProperty(t)?{space:fr[t],local:e}:e}function vo(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===En&&t.documentElement.namespaceURI===En?t.createElement(e):t.createElementNS(n,e)}}function yo(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function li(e){var t=Qt(e);return(t.local?yo:vo)(t)}function bo(){}function Hn(e){return e==null?bo:function(){return this.querySelector(e)}}function xo(e){typeof e!="function"&&(e=Hn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,u=r[i]=new Array(o),l,a,c=0;c<o;++c)(l=s[c])&&(a=e.call(l,l.__data__,c,s))&&("__data__"in l&&(a.__data__=l.__data__),u[c]=a);return new ee(r,this._parents)}function Eo(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ao(){return[]}function ai(e){return e==null?Ao:function(){return this.querySelectorAll(e)}}function No(e){return function(){return Eo(e.apply(this,arguments))}}function ko(e){typeof e=="function"?e=No(e):e=ai(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],u=o.length,l,a=0;a<u;++a)(l=o[a])&&(r.push(e.call(l,l.__data__,a,o)),i.push(l));return new ee(r,i)}function ci(e){return function(){return this.matches(e)}}function fi(e){return function(t){return t.matches(e)}}var To=Array.prototype.find;function So(e){return function(){return To.call(this.children,e)}}function $o(){return this.firstElementChild}function Mo(e){return this.select(e==null?$o:So(typeof e=="function"?e:fi(e)))}var Co=Array.prototype.filter;function Po(){return Array.from(this.children)}function Oo(e){return function(){return Co.call(this.children,e)}}function Ro(e){return this.selectAll(e==null?Po:Oo(typeof e=="function"?e:fi(e)))}function Lo(e){typeof e!="function"&&(e=ci(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,u=r[i]=[],l,a=0;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s)&&u.push(l);return new ee(r,this._parents)}function hi(e){return new Array(e.length)}function Io(){return new ee(this._enter||this._groups.map(hi),this._parents)}function Vt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vt.prototype={constructor:Vt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function qo(e){return function(){return e}}function zo(e,t,n,r,i,s){for(var o=0,u,l=t.length,a=s.length;o<a;++o)(u=t[o])?(u.__data__=s[o],r[o]=u):n[o]=new Vt(e,s[o]);for(;o<l;++o)(u=t[o])&&(i[o]=u)}function Do(e,t,n,r,i,s,o){var u,l,a=new Map,c=t.length,f=s.length,h=new Array(c),_;for(u=0;u<c;++u)(l=t[u])&&(h[u]=_=o.call(l,l.__data__,u,t)+"",a.has(_)?i[u]=l:a.set(_,l));for(u=0;u<f;++u)_=o.call(e,s[u],u,s)+"",(l=a.get(_))?(r[u]=l,l.__data__=s[u],a.delete(_)):n[u]=new Vt(e,s[u]);for(u=0;u<c;++u)(l=t[u])&&a.get(h[u])===l&&(i[u]=l)}function jo(e){return e.__data__}function Fo(e,t){if(!arguments.length)return Array.from(this,jo);var n=t?Do:zo,r=this._parents,i=this._groups;typeof e!="function"&&(e=qo(e));for(var s=i.length,o=new Array(s),u=new Array(s),l=new Array(s),a=0;a<s;++a){var c=r[a],f=i[a],h=f.length,_=Bo(e.call(c,c&&c.__data__,a,r)),w=_.length,E=u[a]=new Array(w),S=o[a]=new Array(w),g=l[a]=new Array(h);n(c,f,E,S,g,_,t);for(var k=0,x=0,L,C;k<w;++k)if(L=E[k]){for(k>=x&&(x=k+1);!(C=S[x])&&++x<w;);L._next=C||null}}return o=new ee(o,r),o._enter=u,o._exit=l,o}function Bo(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Uo(){return new ee(this._exit||this._groups.map(hi),this._parents)}function Ho(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Vo(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),u=new Array(i),l=0;l<o;++l)for(var a=n[l],c=r[l],f=a.length,h=u[l]=new Array(f),_,w=0;w<f;++w)(_=a[w]||c[w])&&(h[w]=_);for(;l<i;++l)u[l]=n[l];return new ee(u,this._parents)}function Xo(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Yo(e){e||(e=Wo);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],u=o.length,l=i[s]=new Array(u),a,c=0;c<u;++c)(a=o[c])&&(l[c]=a);l.sort(t)}return new ee(i,this._parents).order()}function Wo(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Go(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Zo(){return Array.from(this)}function Ko(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Qo(){let e=0;for(const t of this)++e;return e}function Jo(){return!this.node()}function es(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,u;s<o;++s)(u=i[s])&&e.call(u,u.__data__,s,i);return this}function ts(e){return function(){this.removeAttribute(e)}}function ns(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rs(e,t){return function(){this.setAttribute(e,t)}}function is(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function os(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ss(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function us(e,t){var n=Qt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ns:ts:typeof t=="function"?n.local?ss:os:n.local?is:rs)(n,t))}function di(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ls(e){return function(){this.style.removeProperty(e)}}function as(e,t,n){return function(){this.style.setProperty(e,t,n)}}function cs(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function fs(e,t,n){return arguments.length>1?this.each((t==null?ls:typeof t=="function"?cs:as)(e,t,n==null?"":n)):tt(this.node(),e)}function tt(e,t){return e.style.getPropertyValue(t)||di(e).getComputedStyle(e,null).getPropertyValue(t)}function hs(e){return function(){delete this[e]}}function ds(e,t){return function(){this[e]=t}}function ps(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ms(e,t){return arguments.length>1?this.each((t==null?hs:typeof t=="function"?ps:ds)(e,t)):this.node()[e]}function pi(e){return e.trim().split(/^|\s+/)}function Vn(e){return e.classList||new mi(e)}function mi(e){this._node=e,this._names=pi(e.getAttribute("class")||"")}mi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function _i(e,t){for(var n=Vn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function gi(e,t){for(var n=Vn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function _s(e){return function(){_i(this,e)}}function gs(e){return function(){gi(this,e)}}function ws(e,t){return function(){(t.apply(this,arguments)?_i:gi)(this,e)}}function vs(e,t){var n=pi(e+"");if(arguments.length<2){for(var r=Vn(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?ws:t?_s:gs)(n,t))}function ys(){this.textContent=""}function bs(e){return function(){this.textContent=e}}function xs(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Es(e){return arguments.length?this.each(e==null?ys:(typeof e=="function"?xs:bs)(e)):this.node().textContent}function As(){this.innerHTML=""}function Ns(e){return function(){this.innerHTML=e}}function ks(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Ts(e){return arguments.length?this.each(e==null?As:(typeof e=="function"?ks:Ns)(e)):this.node().innerHTML}function Ss(){this.nextSibling&&this.parentNode.appendChild(this)}function $s(){return this.each(Ss)}function Ms(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cs(){return this.each(Ms)}function Ps(e){var t=typeof e=="function"?e:li(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Os(){return null}function Rs(e,t){var n=typeof e=="function"?e:li(e),r=t==null?Os:typeof t=="function"?t:Hn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ls(){var e=this.parentNode;e&&e.removeChild(this)}function Is(){return this.each(Ls)}function qs(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zs(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ds(e){return this.select(e?zs:qs)}function js(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Fs(e){return function(t){e.call(this,t,this.__data__)}}function Bs(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Us(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Hs(e,t,n){return function(){var r=this.__on,i,s=Fs(t);if(r){for(var o=0,u=r.length;o<u;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Vs(e,t,n){var r=Bs(e+""),i,s=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,a=u.length,c;l<a;++l)for(i=0,c=u[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(u=t?Hs:Us,i=0;i<s;++i)this.each(u(r[i],t,n));return this}function wi(e,t,n){var r=di(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Xs(e,t){return function(){return wi(this,e,t)}}function Ys(e,t){return function(){return wi(this,e,t.apply(this,arguments))}}function Ws(e,t){return this.each((typeof t=="function"?Ys:Xs)(e,t))}function*Gs(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var vi=[null];function ee(e,t){this._groups=e,this._parents=t}function xt(){return new ee([[document.documentElement]],vi)}function Zs(){return this}ee.prototype=xt.prototype={constructor:ee,select:xo,selectAll:ko,selectChild:Mo,selectChildren:Ro,filter:Lo,data:Fo,enter:Io,exit:Uo,join:Ho,merge:Vo,selection:Zs,order:Xo,sort:Yo,call:Go,nodes:Zo,node:Ko,size:Qo,empty:Jo,each:es,attr:us,style:fs,property:ms,classed:vs,text:Es,html:Ts,raise:$s,lower:Cs,append:Ps,insert:Rs,remove:Is,clone:Ds,datum:js,on:Vs,dispatch:Ws,[Symbol.iterator]:Gs};function ae(e){return typeof e=="string"?new ee([[document.querySelector(e)]],[document.documentElement]):new ee([[e]],vi)}function Ks(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ze(e,t){if(e=Ks(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const An={capture:!0,passive:!1};function Nn(e){e.preventDefault(),e.stopImmediatePropagation()}function Qs(e){var t=e.document.documentElement,n=ae(e).on("dragstart.drag",Nn,An);"onselectstart"in t?n.on("selectstart.drag",Nn,An):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Js(e,t){var n=e.document.documentElement,r=ae(e).on("dragstart.drag",null);t&&(r.on("click.drag",Nn,An),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Xn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Et(){}var gt=.7,Xt=1/gt,et="\\s*([+-]?\\d+)\\s*",wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eu=/^#([0-9a-f]{3,8})$/,tu=new RegExp(`^rgb\\(${et},${et},${et}\\)$`),nu=new RegExp(`^rgb\\(${_e},${_e},${_e}\\)$`),ru=new RegExp(`^rgba\\(${et},${et},${et},${wt}\\)$`),iu=new RegExp(`^rgba\\(${_e},${_e},${_e},${wt}\\)$`),ou=new RegExp(`^hsl\\(${wt},${_e},${_e}\\)$`),su=new RegExp(`^hsla\\(${wt},${_e},${_e},${wt}\\)$`),hr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xn(Et,Xe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dr,formatHex:dr,formatHex8:uu,formatHsl:lu,formatRgb:pr,toString:pr});function dr(){return this.rgb().formatHex()}function uu(){return this.rgb().formatHex8()}function lu(){return bi(this).formatHsl()}function pr(){return this.rgb().formatRgb()}function Xe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=eu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?mr(t):n===3?new G(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tu.exec(e))?new G(t[1],t[2],t[3],1):(t=nu.exec(e))?new G(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ru.exec(e))?Mt(t[1],t[2],t[3],t[4]):(t=iu.exec(e))?Mt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ou.exec(e))?wr(t[1],t[2]/100,t[3]/100,1):(t=su.exec(e))?wr(t[1],t[2]/100,t[3]/100,t[4]):hr.hasOwnProperty(e)?mr(hr[e]):e==="transparent"?new G(NaN,NaN,NaN,0):null}function mr(e){return new G(e>>16&255,e>>8&255,e&255,1)}function Mt(e,t,n,r){return r<=0&&(e=t=n=NaN),new G(e,t,n,r)}function au(e){return e instanceof Et||(e=Xe(e)),e?(e=e.rgb(),new G(e.r,e.g,e.b,e.opacity)):new G}function kn(e,t,n,r){return arguments.length===1?au(e):new G(e,t,n,r==null?1:r)}function G(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Xn(G,kn,yi(Et,{brighter(e){return e=e==null?Xt:Math.pow(Xt,e),new G(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gt:Math.pow(gt,e),new G(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new G(He(this.r),He(this.g),He(this.b),Yt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_r,formatHex:_r,formatHex8:cu,formatRgb:gr,toString:gr}));function _r(){return`#${Be(this.r)}${Be(this.g)}${Be(this.b)}`}function cu(){return`#${Be(this.r)}${Be(this.g)}${Be(this.b)}${Be((isNaN(this.opacity)?1:this.opacity)*255)}`}function gr(){const e=Yt(this.opacity);return`${e===1?"rgb(":"rgba("}${He(this.r)}, ${He(this.g)}, ${He(this.b)}${e===1?")":`, ${e})`}`}function Yt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function He(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Be(e){return e=He(e),(e<16?"0":"")+e.toString(16)}function wr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ce(e,t,n,r)}function bi(e){if(e instanceof ce)return new ce(e.h,e.s,e.l,e.opacity);if(e instanceof Et||(e=Xe(e)),!e)return new ce;if(e instanceof ce)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,u=s-i,l=(s+i)/2;return u?(t===s?o=(n-r)/u+(n<r)*6:n===s?o=(r-t)/u+2:o=(t-n)/u+4,u/=l<.5?s+i:2-s-i,o*=60):u=l>0&&l<1?0:o,new ce(o,u,l,e.opacity)}function fu(e,t,n,r){return arguments.length===1?bi(e):new ce(e,t,n,r==null?1:r)}function ce(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Xn(ce,fu,yi(Et,{brighter(e){return e=e==null?Xt:Math.pow(Xt,e),new ce(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gt:Math.pow(gt,e),new ce(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new G(cn(e>=240?e-240:e+120,i,r),cn(e,i,r),cn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ce(vr(this.h),Ct(this.s),Ct(this.l),Yt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yt(this.opacity);return`${e===1?"hsl(":"hsla("}${vr(this.h)}, ${Ct(this.s)*100}%, ${Ct(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vr(e){return e=(e||0)%360,e<0?e+360:e}function Ct(e){return Math.max(0,Math.min(1,e||0))}function cn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Yn=e=>()=>e;function hu(e,t){return function(n){return e+n*t}}function du(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function pu(e){return(e=+e)==1?xi:function(t,n){return n-t?du(t,n,e):Yn(isNaN(t)?n:t)}}function xi(e,t){var n=t-e;return n?hu(e,n):Yn(isNaN(e)?t:e)}const Wt=function e(t){var n=pu(t);function r(i,s){var o=n((i=kn(i)).r,(s=kn(s)).r),u=n(i.g,s.g),l=n(i.b,s.b),a=xi(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=u(c),i.b=l(c),i.opacity=a(c),i+""}}return r.gamma=e,r}(1);function mu(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function _u(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gu(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Wn(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(u){for(o=0;o<r;++o)s[o]=i[o](u);return s}}function wu(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function pe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vu(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Wn(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fn=new RegExp(Tn.source,"g");function yu(e){return function(){return e}}function bu(e){return function(t){return e(t)+""}}function Ei(e,t){var n=Tn.lastIndex=fn.lastIndex=0,r,i,s,o=-1,u=[],l=[];for(e=e+"",t=t+"";(r=Tn.exec(e))&&(i=fn.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),u[o]?u[o]+=s:u[++o]=s),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:pe(r,i)})),n=fn.lastIndex;return n<t.length&&(s=t.slice(n),u[o]?u[o]+=s:u[++o]=s),u.length<2?l[0]?bu(l[0].x):yu(t):(t=l.length,function(a){for(var c=0,f;c<t;++c)u[(f=l[c]).i]=f.x(a);return u.join("")})}function Wn(e,t){var n=typeof t,r;return t==null||n==="boolean"?Yn(t):(n==="number"?pe:n==="string"?(r=Xe(t))?(t=r,Wt):Ei:t instanceof Xe?Wt:t instanceof Date?wu:_u(t)?mu:Array.isArray(t)?gu:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vu:pe)(e,t)}var yr=180/Math.PI,Sn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ai(e,t,n,r,i,s){var o,u,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*yr,skewX:Math.atan(l)*yr,scaleX:o,scaleY:u}}var Pt;function xu(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Sn:Ai(t.a,t.b,t.c,t.d,t.e,t.f)}function Eu(e){return e==null||(Pt||(Pt=document.createElementNS("http://www.w3.org/2000/svg","g")),Pt.setAttribute("transform",e),!(e=Pt.transform.baseVal.consolidate()))?Sn:(e=e.matrix,Ai(e.a,e.b,e.c,e.d,e.e,e.f))}function Ni(e,t,n,r){function i(a){return a.length?a.pop()+" ":""}function s(a,c,f,h,_,w){if(a!==f||c!==h){var E=_.push("translate(",null,t,null,n);w.push({i:E-4,x:pe(a,f)},{i:E-2,x:pe(c,h)})}else(f||h)&&_.push("translate("+f+t+h+n)}function o(a,c,f,h){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:pe(a,c)})):c&&f.push(i(f)+"rotate("+c+r)}function u(a,c,f,h){a!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:pe(a,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(a,c,f,h,_,w){if(a!==f||c!==h){var E=_.push(i(_)+"scale(",null,",",null,")");w.push({i:E-4,x:pe(a,f)},{i:E-2,x:pe(c,h)})}else(f!==1||h!==1)&&_.push(i(_)+"scale("+f+","+h+")")}return function(a,c){var f=[],h=[];return a=e(a),c=e(c),s(a.translateX,a.translateY,c.translateX,c.translateY,f,h),o(a.rotate,c.rotate,f,h),u(a.skewX,c.skewX,f,h),l(a.scaleX,a.scaleY,c.scaleX,c.scaleY,f,h),a=c=null,function(_){for(var w=-1,E=h.length,S;++w<E;)f[(S=h[w]).i]=S.x(_);return f.join("")}}}var Au=Ni(xu,"px, ","px)","deg)"),Nu=Ni(Eu,", ",")",")"),ku=1e-12;function br(e){return((e=Math.exp(e))+1/e)/2}function Tu(e){return((e=Math.exp(e))-1/e)/2}function Su(e){return((e=Math.exp(2*e))-1)/(e+1)}const $u=function e(t,n,r){function i(s,o){var u=s[0],l=s[1],a=s[2],c=o[0],f=o[1],h=o[2],_=c-u,w=f-l,E=_*_+w*w,S,g;if(E<ku)g=Math.log(h/a)/t,S=function(j){return[u+j*_,l+j*w,a*Math.exp(t*j*g)]};else{var k=Math.sqrt(E),x=(h*h-a*a+r*E)/(2*a*n*k),L=(h*h-a*a-r*E)/(2*h*n*k),C=Math.log(Math.sqrt(x*x+1)-x),N=Math.log(Math.sqrt(L*L+1)-L);g=(N-C)/t,S=function(j){var X=j*g,qe=br(C),Pe=a/(n*k)*(qe*Su(t*X+C)-Tu(C));return[u+Pe*_,l+Pe*w,a*qe/br(t*X+C)]}}return S.duration=g*1e3*t/Math.SQRT2,S}return i.rho=function(s){var o=Math.max(.001,+s),u=o*o,l=u*u;return e(o,u,l)},i}(Math.SQRT2,2,4);var nt=0,ht=0,lt=0,ki=1e3,Gt,dt,Zt=0,Ye=0,Jt=0,vt=typeof performance=="object"&&performance.now?performance:Date,Ti=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Gn(){return Ye||(Ti(Mu),Ye=vt.now()+Jt)}function Mu(){Ye=0}function Kt(){this._call=this._time=this._next=null}Kt.prototype=Si.prototype={constructor:Kt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Gn():+n)+(t==null?0:+t),!this._next&&dt!==this&&(dt?dt._next=this:Gt=this,dt=this),this._call=e,this._time=n,$n()},stop:function(){this._call&&(this._call=null,this._time=1/0,$n())}};function Si(e,t,n){var r=new Kt;return r.restart(e,t,n),r}function Cu(){Gn(),++nt;for(var e=Gt,t;e;)(t=Ye-e._time)>=0&&e._call.call(void 0,t),e=e._next;--nt}function xr(){Ye=(Zt=vt.now())+Jt,nt=ht=0;try{Cu()}finally{nt=0,Ou(),Ye=0}}function Pu(){var e=vt.now(),t=e-Zt;t>ki&&(Jt-=t,Zt=e)}function Ou(){for(var e,t=Gt,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Gt=n);dt=e,$n(r)}function $n(e){if(!nt){ht&&(ht=clearTimeout(ht));var t=e-Ye;t>24?(e<1/0&&(ht=setTimeout(xr,e-vt.now()-Jt)),lt&&(lt=clearInterval(lt))):(lt||(Zt=vt.now(),lt=setInterval(Pu,ki)),nt=1,Ti(xr))}}function Er(e,t,n){var r=new Kt;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Ru=Un("start","end","cancel","interrupt"),Lu=[],$i=0,Ar=1,Mn=2,Dt=3,Nr=4,Cn=5,jt=6;function en(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Iu(e,n,{name:t,index:r,group:i,on:Ru,tween:Lu,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:$i})}function Zn(e,t){var n=he(e,t);if(n.state>$i)throw new Error("too late; already scheduled");return n}function xe(e,t){var n=he(e,t);if(n.state>Dt)throw new Error("too late; already running");return n}function he(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Iu(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Si(s,0,n.time);function s(a){n.state=Ar,n.timer.restart(o,n.delay,n.time),n.delay<=a&&o(a-n.delay)}function o(a){var c,f,h,_;if(n.state!==Ar)return l();for(c in r)if(_=r[c],_.name===n.name){if(_.state===Dt)return Er(o);_.state===Nr?(_.state=jt,_.timer.stop(),_.on.call("interrupt",e,e.__data__,_.index,_.group),delete r[c]):+c<t&&(_.state=jt,_.timer.stop(),_.on.call("cancel",e,e.__data__,_.index,_.group),delete r[c])}if(Er(function(){n.state===Dt&&(n.state=Nr,n.timer.restart(u,n.delay,n.time),u(a))}),n.state=Mn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Mn){for(n.state=Dt,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(_=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=_);i.length=f+1}}function u(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(l),n.state=Cn,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===Cn&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=jt,n.timer.stop(),delete r[t];for(var a in r)return;delete e.__transition}}function Ft(e,t){var n=e.__transition,r,i,s=!0,o;if(!!n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>Mn&&r.state<Cn,r.state=jt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function qu(e){return this.each(function(){Ft(this,e)})}function zu(e,t){var n,r;return function(){var i=xe(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,u=r.length;o<u;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Du(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=xe(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var u={name:t,value:n},l=0,a=i.length;l<a;++l)if(i[l].name===t){i[l]=u;break}l===a&&i.push(u)}s.tween=i}}function ju(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=he(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?zu:Du)(n,e,t))}function Kn(e,t,n){var r=e._id;return e.each(function(){var i=xe(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return he(i,r).value[t]}}function Mi(e,t){var n;return(typeof t=="number"?pe:t instanceof Xe?Wt:(n=Xe(t))?(t=n,Wt):Ei)(e,t)}function Fu(e){return function(){this.removeAttribute(e)}}function Bu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Uu(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function Hu(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function Vu(e,t,n){var r,i,s;return function(){var o,u=n(this),l;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=u+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,u)))}}function Xu(e,t,n){var r,i,s;return function(){var o,u=n(this),l;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=u+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,u)))}}function Yu(e,t){var n=Qt(e),r=n==="transform"?Nu:Mi;return this.attrTween(e,typeof t=="function"?(n.local?Xu:Vu)(n,r,Kn(this,"attr."+e,t)):t==null?(n.local?Bu:Fu)(n):(n.local?Hu:Uu)(n,r,t))}function Wu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Gu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Zu(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Gu(e,s)),n}return i._value=t,i}function Ku(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Wu(e,s)),n}return i._value=t,i}function Qu(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Qt(e);return this.tween(n,(r.local?Zu:Ku)(r,t))}function Ju(e,t){return function(){Zn(this,e).delay=+t.apply(this,arguments)}}function el(e,t){return t=+t,function(){Zn(this,e).delay=t}}function tl(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ju:el)(t,e)):he(this.node(),t).delay}function nl(e,t){return function(){xe(this,e).duration=+t.apply(this,arguments)}}function rl(e,t){return t=+t,function(){xe(this,e).duration=t}}function il(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nl:rl)(t,e)):he(this.node(),t).duration}function ol(e,t){if(typeof t!="function")throw new Error;return function(){xe(this,e).ease=t}}function sl(e){var t=this._id;return arguments.length?this.each(ol(t,e)):he(this.node(),t).ease}function ul(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;xe(this,e).ease=n}}function ll(e){if(typeof e!="function")throw new Error;return this.each(ul(this._id,e))}function al(e){typeof e!="function"&&(e=ci(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,u=r[i]=[],l,a=0;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s)&&u.push(l);return new ke(r,this._parents,this._name,this._id)}function cl(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),u=0;u<s;++u)for(var l=t[u],a=n[u],c=l.length,f=o[u]=new Array(c),h,_=0;_<c;++_)(h=l[_]||a[_])&&(f[_]=h);for(;u<r;++u)o[u]=t[u];return new ke(o,this._parents,this._name,this._id)}function fl(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function hl(e,t,n){var r,i,s=fl(t)?Zn:xe;return function(){var o=s(this,e),u=o.on;u!==r&&(i=(r=u).copy()).on(t,n),o.on=i}}function dl(e,t){var n=this._id;return arguments.length<2?he(this.node(),n).on.on(e):this.each(hl(n,e,t))}function pl(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ml(){return this.on("end.remove",pl(this._id))}function _l(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hn(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var u=r[o],l=u.length,a=s[o]=new Array(l),c,f,h=0;h<l;++h)(c=u[h])&&(f=e.call(c,c.__data__,h,u))&&("__data__"in c&&(f.__data__=c.__data__),a[h]=f,en(a[h],t,n,h,a,he(c,n)));return new ke(s,this._parents,t,n)}function gl(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ai(e));for(var r=this._groups,i=r.length,s=[],o=[],u=0;u<i;++u)for(var l=r[u],a=l.length,c,f=0;f<a;++f)if(c=l[f]){for(var h=e.call(c,c.__data__,f,l),_,w=he(c,n),E=0,S=h.length;E<S;++E)(_=h[E])&&en(_,t,n,E,h,w);s.push(h),o.push(c)}return new ke(s,o,t,n)}var wl=xt.prototype.constructor;function vl(){return new wl(this._groups,this._parents)}function yl(e,t){var n,r,i;return function(){var s=tt(this,e),o=(this.style.removeProperty(e),tt(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function Ci(e){return function(){this.style.removeProperty(e)}}function bl(e,t,n){var r,i=n+"",s;return function(){var o=tt(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function xl(e,t,n){var r,i,s;return function(){var o=tt(this,e),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(e),tt(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,u))}}function El(e,t){var n,r,i,s="style."+t,o="end."+s,u;return function(){var l=xe(this,e),a=l.on,c=l.value[s]==null?u||(u=Ci(t)):void 0;(a!==n||i!==c)&&(r=(n=a).copy()).on(o,i=c),l.on=r}}function Al(e,t,n){var r=(e+="")=="transform"?Au:Mi;return t==null?this.styleTween(e,yl(e,r)).on("end.style."+e,Ci(e)):typeof t=="function"?this.styleTween(e,xl(e,r,Kn(this,"style."+e,t))).each(El(this._id,e)):this.styleTween(e,bl(e,r,t),n).on("end.style."+e,null)}function Nl(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function kl(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Nl(e,o,n)),r}return s._value=t,s}function Tl(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,kl(e,t,n==null?"":n))}function Sl(e){return function(){this.textContent=e}}function $l(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Ml(e){return this.tween("text",typeof e=="function"?$l(Kn(this,"text",e)):Sl(e==null?"":e+""))}function Cl(e){return function(t){this.textContent=e.call(this,t)}}function Pl(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Cl(i)),t}return r._value=e,r}function Ol(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Pl(e))}function Rl(){for(var e=this._name,t=this._id,n=Pi(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],u=o.length,l,a=0;a<u;++a)if(l=o[a]){var c=he(l,t);en(l,e,n,a,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ke(r,this._parents,e,n)}function Ll(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var u={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var a=xe(this,r),c=a.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),a.on=t}),i===0&&s()})}var Il=0;function ke(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Pi(){return++Il}var Ae=xt.prototype;ke.prototype={constructor:ke,select:_l,selectAll:gl,selectChild:Ae.selectChild,selectChildren:Ae.selectChildren,filter:al,merge:cl,selection:vl,transition:Rl,call:Ae.call,nodes:Ae.nodes,node:Ae.node,size:Ae.size,empty:Ae.empty,each:Ae.each,on:dl,attr:Yu,attrTween:Qu,style:Al,styleTween:Tl,text:Ml,textTween:Ol,remove:ml,tween:ju,delay:tl,duration:il,ease:sl,easeVarying:ll,end:Ll,[Symbol.iterator]:Ae[Symbol.iterator]};function ql(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var zl={time:null,delay:0,duration:250,ease:ql};function Dl(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function jl(e){var t,n;e instanceof ke?(t=e._id,e=e._name):(t=Pi(),(n=zl).time=Gn(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],u=o.length,l,a=0;a<u;++a)(l=o[a])&&en(l,e,t,a,o,n||Dl(l,t));return new ke(r,this._parents,e,t)}xt.prototype.interrupt=qu;xt.prototype.transition=jl;const Ot=e=>()=>e;function Fl(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ne(e,t,n){this.k=e,this.x=t,this.y=n}Ne.prototype={constructor:Ne,scale:function(e){return e===1?this:new Ne(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ne(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var At=new Ne(1,0,0);Ne.prototype;function hn(e){e.stopImmediatePropagation()}function at(e){e.preventDefault(),e.stopImmediatePropagation()}function Bl(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ul(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function kr(){return this.__zoom||At}function Hl(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Vl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xl(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Yl(){var e=Bl,t=Ul,n=Xl,r=Hl,i=Vl,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,l=$u,a=Un("start","zoom","end"),c,f,h,_=500,w=150,E=0,S=10;function g(d){d.property("__zoom",kr).on("wheel.zoom",X,{passive:!1}).on("mousedown.zoom",qe).on("dblclick.zoom",Pe).filter(i).on("touchstart.zoom",St).on("touchmove.zoom",Ze).on("touchend.zoom touchcancel.zoom",un).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(d,y,m,b){var A=d.selection?d.selection():d;A.property("__zoom",kr),d!==A?C(d,y,m,b):A.interrupt().each(function(){N(this,arguments).event(b).start().zoom(null,typeof y=="function"?y.apply(this,arguments):y).end()})},g.scaleBy=function(d,y,m,b){g.scaleTo(d,function(){var A=this.__zoom.k,p=typeof y=="function"?y.apply(this,arguments):y;return A*p},m,b)},g.scaleTo=function(d,y,m,b){g.transform(d,function(){var A=t.apply(this,arguments),p=this.__zoom,v=m==null?L(A):typeof m=="function"?m.apply(this,arguments):m,T=p.invert(v),$=typeof y=="function"?y.apply(this,arguments):y;return n(x(k(p,$),v,T),A,o)},m,b)},g.translateBy=function(d,y,m,b){g.transform(d,function(){return n(this.__zoom.translate(typeof y=="function"?y.apply(this,arguments):y,typeof m=="function"?m.apply(this,arguments):m),t.apply(this,arguments),o)},null,b)},g.translateTo=function(d,y,m,b,A){g.transform(d,function(){var p=t.apply(this,arguments),v=this.__zoom,T=b==null?L(p):typeof b=="function"?b.apply(this,arguments):b;return n(At.translate(T[0],T[1]).scale(v.k).translate(typeof y=="function"?-y.apply(this,arguments):-y,typeof m=="function"?-m.apply(this,arguments):-m),p,o)},b,A)};function k(d,y){return y=Math.max(s[0],Math.min(s[1],y)),y===d.k?d:new Ne(y,d.x,d.y)}function x(d,y,m){var b=y[0]-m[0]*d.k,A=y[1]-m[1]*d.k;return b===d.x&&A===d.y?d:new Ne(d.k,b,A)}function L(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function C(d,y,m,b){d.on("start.zoom",function(){N(this,arguments).event(b).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(b).end()}).tween("zoom",function(){var A=this,p=arguments,v=N(A,p).event(b),T=t.apply(A,p),$=m==null?L(T):typeof m=="function"?m.apply(A,p):m,H=Math.max(T[1][0]-T[0][0],T[1][1]-T[0][1]),R=A.__zoom,B=typeof y=="function"?y.apply(A,p):y,ie=l(R.invert($).concat(H/R.k),B.invert($).concat(H/B.k));return function(le){if(le===1)le=B;else{var Ee=ie(le),ln=H/Ee[2];le=new Ne(ln,$[0]-Ee[0]*ln,$[1]-Ee[1]*ln)}v.zoom(null,le)}})}function N(d,y,m){return!m&&d.__zooming||new j(d,y)}function j(d,y){this.that=d,this.args=y,this.active=0,this.sourceEvent=null,this.extent=t.apply(d,y),this.taps=0}j.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,y){return this.mouse&&d!=="mouse"&&(this.mouse[1]=y.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=y.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=y.invert(this.touch1[0])),this.that.__zoom=y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var y=ae(this.that).datum();a.call(d,this.that,new Fl(d,{sourceEvent:this.sourceEvent,target:g,type:d,transform:this.that.__zoom,dispatch:a}),y)}};function X(d,...y){if(!e.apply(this,arguments))return;var m=N(this,y).event(d),b=this.__zoom,A=Math.max(s[0],Math.min(s[1],b.k*Math.pow(2,r.apply(this,arguments)))),p=ze(d);if(m.wheel)(m.mouse[0][0]!==p[0]||m.mouse[0][1]!==p[1])&&(m.mouse[1]=b.invert(m.mouse[0]=p)),clearTimeout(m.wheel);else{if(b.k===A)return;m.mouse=[p,b.invert(p)],Ft(this),m.start()}at(d),m.wheel=setTimeout(v,w),m.zoom("mouse",n(x(k(b,A),m.mouse[0],m.mouse[1]),m.extent,o));function v(){m.wheel=null,m.end()}}function qe(d,...y){if(h||!e.apply(this,arguments))return;var m=d.currentTarget,b=N(this,y,!0).event(d),A=ae(d.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",H,!0),p=ze(d,m),v=d.clientX,T=d.clientY;Qs(d.view),hn(d),b.mouse=[p,this.__zoom.invert(p)],Ft(this),b.start();function $(R){if(at(R),!b.moved){var B=R.clientX-v,ie=R.clientY-T;b.moved=B*B+ie*ie>E}b.event(R).zoom("mouse",n(x(b.that.__zoom,b.mouse[0]=ze(R,m),b.mouse[1]),b.extent,o))}function H(R){A.on("mousemove.zoom mouseup.zoom",null),Js(R.view,b.moved),at(R),b.event(R).end()}}function Pe(d,...y){if(!!e.apply(this,arguments)){var m=this.__zoom,b=ze(d.changedTouches?d.changedTouches[0]:d,this),A=m.invert(b),p=m.k*(d.shiftKey?.5:2),v=n(x(k(m,p),b,A),t.apply(this,y),o);at(d),u>0?ae(this).transition().duration(u).call(C,v,b,d):ae(this).call(g.transform,v,b,d)}}function St(d,...y){if(!!e.apply(this,arguments)){var m=d.touches,b=m.length,A=N(this,y,d.changedTouches.length===b).event(d),p,v,T,$;for(hn(d),v=0;v<b;++v)T=m[v],$=ze(T,this),$=[$,this.__zoom.invert($),T.identifier],A.touch0?!A.touch1&&A.touch0[2]!==$[2]&&(A.touch1=$,A.taps=0):(A.touch0=$,p=!0,A.taps=1+!!c);c&&(c=clearTimeout(c)),p&&(A.taps<2&&(f=$[0],c=setTimeout(function(){c=null},_)),Ft(this),A.start())}}function Ze(d,...y){if(!!this.__zooming){var m=N(this,y).event(d),b=d.changedTouches,A=b.length,p,v,T,$;for(at(d),p=0;p<A;++p)v=b[p],T=ze(v,this),m.touch0&&m.touch0[2]===v.identifier?m.touch0[0]=T:m.touch1&&m.touch1[2]===v.identifier&&(m.touch1[0]=T);if(v=m.that.__zoom,m.touch1){var H=m.touch0[0],R=m.touch0[1],B=m.touch1[0],ie=m.touch1[1],le=(le=B[0]-H[0])*le+(le=B[1]-H[1])*le,Ee=(Ee=ie[0]-R[0])*Ee+(Ee=ie[1]-R[1])*Ee;v=k(v,Math.sqrt(le/Ee)),T=[(H[0]+B[0])/2,(H[1]+B[1])/2],$=[(R[0]+ie[0])/2,(R[1]+ie[1])/2]}else if(m.touch0)T=m.touch0[0],$=m.touch0[1];else return;m.zoom("touch",n(x(v,T,$),m.extent,o))}}function un(d,...y){if(!!this.__zooming){var m=N(this,y).event(d),b=d.changedTouches,A=b.length,p,v;for(hn(d),h&&clearTimeout(h),h=setTimeout(function(){h=null},_),p=0;p<A;++p)v=b[p],m.touch0&&m.touch0[2]===v.identifier?delete m.touch0:m.touch1&&m.touch1[2]===v.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),m.taps===2&&(v=ze(v,this),Math.hypot(f[0]-v[0],f[1]-v[1])<S)){var T=ae(this).on("dblclick.zoom");T&&T.apply(this,arguments)}}}return g.wheelDelta=function(d){return arguments.length?(r=typeof d=="function"?d:Ot(+d),g):r},g.filter=function(d){return arguments.length?(e=typeof d=="function"?d:Ot(!!d),g):e},g.touchable=function(d){return arguments.length?(i=typeof d=="function"?d:Ot(!!d),g):i},g.extent=function(d){return arguments.length?(t=typeof d=="function"?d:Ot([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),g):t},g.scaleExtent=function(d){return arguments.length?(s[0]=+d[0],s[1]=+d[1],g):[s[0],s[1]]},g.translateExtent=function(d){return arguments.length?(o[0][0]=+d[0][0],o[1][0]=+d[1][0],o[0][1]=+d[0][1],o[1][1]=+d[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(d){return arguments.length?(n=d,g):n},g.duration=function(d){return arguments.length?(u=+d,g):u},g.interpolate=function(d){return arguments.length?(l=d,g):l},g.on=function(){var d=a.on.apply(a,arguments);return d===a?g:d},g.clickDistance=function(d){return arguments.length?(E=(d=+d)*d,g):Math.sqrt(E)},g.tapDistance=function(d){return arguments.length?(S=+d,g):S},g}const Ve=K(null),Le=K(null),Ue=K(null),Wl=K([]),Tr=K({width:1e3,height:1e3,x:0,y:0}),Sr=K(new DOMRect(0,0,0,0)),$r=K(At),Mr=K(At),Cr=K(1),Pn=K(new DOMRect(0,0,0,0)),Pr=K(1),Or=K(new DOMRect(0,0,0,0)),Rr=()=>window.location.hash.slice(1),Oi=mo(Rr(),function(t){window.addEventListener("hashchange",()=>t(Rr()),!1)}),Gl=K(null);Oi.subscribe(e=>{(!e||e=="")&&Ue.set(null)});Ue.subscribe(e=>{e&&e.position&&e.position.layers&&!e.position.layers.has(je(Le).name)&&Ri(e.position.layers.values().next().value),e&&Wl.set([])});Le.subscribe(e=>{je(Ue)&&je(Ue).position&&je(Ue).position.layers&&!je(Ue).position.layers.has(e.name)&&Zl()});function Zl(){window.location.hash=""}function Ri(e){let t=je(Ve),n=t.get(e);Le.set(n);let r=!0;t.forEach(i=>{i.type=="floor"&&(i.visible=r),i==n&&(r=!1)}),t.forEach(i=>{i.type=="base"&&(i.visible=!1)}),n.visible=!0,Ve.set(je(Ve))}function Kl(e){let t,n;const r=e[1].default,i=Se(r,e,e[0],null);return{c(){t=we("div"),i&&i.c(),P(t,"class","wrapper svelte-hpmgs9")},m(s,o){z(s,t,o),i&&i.m(t,null),n=!0},p(s,[o]){i&&i.p&&(!n||o&1)&&Me(i,r,s,s[0],n?$e(r,s[0],o,null):Ce(s[0]),null)},i(s){n||(M(i,s),n=!0)},o(s){O(i,s),n=!1},d(s){s&&I(t),i&&i.d(s)}}}function Ql(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=s=>{"$$scope"in s&&n(0,i=s.$$scope)},[i,r]}class Jl extends ne{constructor(t){super(),te(this,t,Ql,Kl,Z,{})}}function Lr(e,t,n){const r=e.slice();return r[5]=t[n],r}function Ir(e){let t,n=Array.from(e[0].values()).filter(zr).reverse(),r=[];for(let i=0;i<n.length;i+=1)r[i]=qr(Lr(e,n,i));return{c(){t=we("div");for(let i=0;i<r.length;i+=1)r[i].c();P(t,"class","floor_layers_ctrl svelte-9xdbwo"),Je(t,"isIdSelected",e[1]!="")},m(i,s){z(i,t,s);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(i,s){if(s&13){n=Array.from(i[0].values()).filter(zr).reverse();let o;for(o=0;o<n.length;o+=1){const u=Lr(i,n,o);r[o]?r[o].p(u,s):(r[o]=qr(u),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}s&2&&Je(t,"isIdSelected",i[1]!="")},d(i){i&&I(t),Ji(r,i)}}}function qr(e){let t,n,r=e[5].name+"",i,s,o;function u(){return e[4](e[5])}return{c(){t=we("div"),n=we("div"),i=Dn(r),P(n,"class","svelte-9xdbwo"),P(t,"class","layer_btn svelte-9xdbwo"),Je(t,"visible",e[5].visible),Je(t,"current",e[5]==e[2])},m(l,a){z(l,t,a),yn(t,n),yn(n,i),s||(o=Ht(t,"click",u),s=!0)},p(l,a){e=l,a&1&&r!==(r=e[5].name+"")&&ro(i,r),a&1&&Je(t,"visible",e[5].visible),a&5&&Je(t,"current",e[5]==e[2])},d(l){l&&I(t),s=!1,o()}}}function ea(e){let t,n=e[0]&&Ir(e);return{c(){n&&n.c(),t=jn()},m(r,i){n&&n.m(r,i),z(r,t,i)},p(r,[i]){r[0]?n?n.p(r,i):(n=Ir(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:U,o:U,d(r){n&&n.d(r),r&&I(t)}}}const zr=e=>e.type=="floor";function ta(e,t,n){let r,i,s;V(e,Ve,l=>n(0,r=l)),V(e,Oi,l=>n(1,i=l)),V(e,Le,l=>n(2,s=l));function o(l){Ri(l.name)}return[r,i,s,o,l=>o(l)]}class na extends ne{constructor(t){super(),te(this,t,ta,ea,Z,{})}}function Dr(e){return Object.entries(e).filter(([t,n])=>t!==""&&n).map(([t])=>t).join(" ")}const jr=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,ra=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function st(e){let t,n=[];e.$on=(i,s)=>{let o=i,u=()=>{};return t?u=t(o,s):n.push([o,s]),o.match(jr)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',o),()=>{u()}};function r(i){ao(e,i)}return i=>{const s=[],o={};t=(u,l)=>{let a=u,c=l,f=!1;const h=a.match(jr),_=a.match(ra),w=h||_;if(a.match(/^SMUI:\w+:/)){const g=a.split(":");let k="";for(let x=0;x<g.length;x++)k+=x===g.length-1?":"+g[x]:g[x].split("-").map(L=>L.slice(0,1).toUpperCase()+L.slice(1)).join("");console.warn(`The event ${a.split("$")[0]} has been renamed to ${k.split("$")[0]}.`),a=k}if(w){const g=a.split(h?":":"$");a=g[0];const k=Object.fromEntries(g.slice(1).map(x=>[x,!0]));k.passive&&(f=f||{},f.passive=!0),k.nonpassive&&(f=f||{},f.passive=!1),k.capture&&(f=f||{},f.capture=!0),k.once&&(f=f||{},f.once=!0),k.preventDefault&&(c=eo(c)),k.stopPropagation&&(c=to(c))}const E=Ht(i,a,c,f),S=()=>{E();const g=s.indexOf(S);g>-1&&s.splice(g,1)};return s.push(S),a in o||(o[a]=Ht(i,a,r)),S};for(let u=0;u<n.length;u++)t(n[u][0],n[u][1]);return{destroy:()=>{for(let u=0;u<s.length;u++)s[u]();for(let u of Object.entries(o))u[1]()}}}}function Nt(e,t){let n=[];if(t)for(let r=0;r<t.length;r++){const i=t[r],s=Array.isArray(i)?i[0]:i;Array.isArray(i)&&i.length>1?n.push(s(e,i[1])):n.push(s(e))}return{update(r){if((r&&r.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(r)for(let i=0;i<r.length;i++){const s=n[i];if(s&&s.update){const o=r[i];Array.isArray(o)&&o.length>1?s.update(o[1]):s.update()}}},destroy(){for(let r=0;r<n.length;r++){const i=n[r];i&&i.destroy&&i.destroy()}}}}function ia(e){let t,n,r,i,s;const o=e[6].default,u=Se(o,e,e[5],null);let l=[e[3]],a={};for(let c=0;c<l.length;c+=1)a=F(a,l[c]);return{c(){t=we("div"),u&&u.c(),ve(t,a)},m(c,f){z(c,t,f),u&&u.m(t,null),e[7](t),r=!0,i||(s=[ge(n=Nt.call(null,t,e[0])),ge(e[2].call(null,t))],i=!0)},p(c,[f]){u&&u.p&&(!r||f&32)&&Me(u,o,c,c[5],r?$e(o,c[5],f,null):Ce(c[5]),null),ve(t,a=ot(l,[f&8&&c[3]])),n&&We(n.update)&&f&1&&n.update.call(null,c[0])},i(c){r||(M(u,c),r=!0)},o(c){O(u,c),r=!1},d(c){c&&I(t),u&&u.d(c),e[7](null),i=!1,be(s)}}}function oa(e,t,n){const r=["use","getElement"];let i=ue(t,r),{$$slots:s={},$$scope:o}=t,{use:u=[]}=t;const l=st(fe());let a;function c(){return a}function f(h){ye[h?"unshift":"push"](()=>{a=h,n(1,a)})}return e.$$set=h=>{t=F(F({},t),it(h)),n(3,i=ue(t,r)),"use"in h&&n(0,u=h.use),"$$scope"in h&&n(5,o=h.$$scope)},[u,a,l,i,c,o,s,f]}class Li extends ne{constructor(t){super(),te(this,t,oa,ia,Z,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function sa(e){let t;const n=e[10].default,r=Se(n,e,e[12],null);return{c(){r&&r.c()},m(i,s){r&&r.m(i,s),t=!0},p(i,s){r&&r.p&&(!t||s&4096)&&Me(r,n,i,i[12],t?$e(n,i[12],s,null):Ce(i[12]),null)},i(i){t||(M(r,i),t=!0)},o(i){O(r,i),t=!1},d(i){r&&r.d(i)}}}function ua(e){let t,n,r;const i=[{use:[e[7],...e[0]]},{class:Dr({[e[1]]:!0,[e[5]]:!0,...e[4]})},e[6],e[8]];var s=e[2];function o(u){let l={$$slots:{default:[sa]},$$scope:{ctx:u}};for(let a=0;a<i.length;a+=1)l=F(l,i[a]);return{props:l}}return s&&(t=new s(o(e)),e[11](t)),{c(){t&&oe(t.$$.fragment),n=jn()},m(u,l){t&&Q(t,u,l),z(u,n,l),r=!0},p(u,[l]){const a=l&499?ot(i,[l&129&&{use:[u[7],...u[0]]},l&50&&{class:Dr({[u[1]]:!0,[u[5]]:!0,...u[4]})},l&64&&ar(u[6]),l&256&&ar(u[8])]):{};if(l&4096&&(a.$$scope={dirty:l,ctx:u}),s!==(s=u[2])){if(t){Fn();const c=t;O(c.$$.fragment,1,0,()=>{J(c,1)}),Bn()}s?(t=new s(o(u)),u[11](t),oe(t.$$.fragment),M(t.$$.fragment,1),Q(t,n.parentNode,n)):t=null}else s&&t.$set(a)},i(u){r||(t&&M(t.$$.fragment,u),r=!0)},o(u){t&&O(t.$$.fragment,u),r=!1},d(u){e[11](null),u&&I(n),t&&J(t,u)}}}const Re={component:Li,class:"",classMap:{},contexts:{},props:{}};function la(e,t,n){const r=["use","class","component","getElement"];let i=ue(t,r),{$$slots:s={},$$scope:o}=t,{use:u=[]}=t,{class:l=""}=t,a;const c=Re.class,f={},h=[],_=Re.contexts,w=Re.props;let{component:E=Re.component}=t;Object.entries(Re.classMap).forEach(([x,L])=>{const C=lo(L);C&&"subscribe"in C&&h.push(C.subscribe(N=>{n(4,f[x]=N,f)}))});const S=st(fe());for(let x in _)_.hasOwnProperty(x)&&uo(x,_[x]);oo(()=>{for(const x of h)x()});function g(){return a.getElement()}function k(x){ye[x?"unshift":"push"](()=>{a=x,n(3,a)})}return e.$$set=x=>{t=F(F({},t),it(x)),n(8,i=ue(t,r)),"use"in x&&n(0,u=x.use),"class"in x&&n(1,l=x.class),"component"in x&&n(2,E=x.component),"$$scope"in x&&n(12,o=x.$$scope)},[u,l,E,a,f,c,w,S,i,g,s,k,o]}class aa extends ne{constructor(t){super(),te(this,t,la,ua,Z,{use:0,class:1,component:2,getElement:9})}get getElement(){return this.$$.ctx[9]}}const Fr=Object.assign({},Re);function re(e){return new Proxy(aa,{construct:function(t,n){return Object.assign(Re,Fr,e),new t(...n)},get:function(t,n){return Object.assign(Re,Fr,e),t[n]}})}function ca(e){let t,n,r,i,s;const o=e[6].default,u=Se(o,e,e[5],null);let l=[e[3]],a={};for(let c=0;c<l.length;c+=1)a=F(a,l[c]);return{c(){t=we("h3"),u&&u.c(),ve(t,a)},m(c,f){z(c,t,f),u&&u.m(t,null),e[7](t),r=!0,i||(s=[ge(n=Nt.call(null,t,e[0])),ge(e[2].call(null,t))],i=!0)},p(c,[f]){u&&u.p&&(!r||f&32)&&Me(u,o,c,c[5],r?$e(o,c[5],f,null):Ce(c[5]),null),ve(t,a=ot(l,[f&8&&c[3]])),n&&We(n.update)&&f&1&&n.update.call(null,c[0])},i(c){r||(M(u,c),r=!0)},o(c){O(u,c),r=!1},d(c){c&&I(t),u&&u.d(c),e[7](null),i=!1,be(s)}}}function fa(e,t,n){const r=["use","getElement"];let i=ue(t,r),{$$slots:s={},$$scope:o}=t,{use:u=[]}=t;const l=st(fe());let a;function c(){return a}function f(h){ye[h?"unshift":"push"](()=>{a=h,n(1,a)})}return e.$$set=h=>{t=F(F({},t),it(h)),n(3,i=ue(t,r)),"use"in h&&n(0,u=h.use),"$$scope"in h&&n(5,o=h.$$scope)},[u,a,l,i,c,o,s,f]}class ha extends ne{constructor(t){super(),te(this,t,fa,ca,Z,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function da(e){let t,n,r,i,s;const o=e[6].default,u=Se(o,e,e[5],null);let l=[e[3]],a={};for(let c=0;c<l.length;c+=1)a=F(a,l[c]);return{c(){t=we("h5"),u&&u.c(),ve(t,a)},m(c,f){z(c,t,f),u&&u.m(t,null),e[7](t),r=!0,i||(s=[ge(n=Nt.call(null,t,e[0])),ge(e[2].call(null,t))],i=!0)},p(c,[f]){u&&u.p&&(!r||f&32)&&Me(u,o,c,c[5],r?$e(o,c[5],f,null):Ce(c[5]),null),ve(t,a=ot(l,[f&8&&c[3]])),n&&We(n.update)&&f&1&&n.update.call(null,c[0])},i(c){r||(M(u,c),r=!0)},o(c){O(u,c),r=!1},d(c){c&&I(t),u&&u.d(c),e[7](null),i=!1,be(s)}}}function pa(e,t,n){const r=["use","getElement"];let i=ue(t,r),{$$slots:s={},$$scope:o}=t,{use:u=[]}=t;const l=st(fe());let a;function c(){return a}function f(h){ye[h?"unshift":"push"](()=>{a=h,n(1,a)})}return e.$$set=h=>{t=F(F({},t),it(h)),n(3,i=ue(t,r)),"use"in h&&n(0,u=h.use),"$$scope"in h&&n(5,o=h.$$scope)},[u,a,l,i,c,o,s,f]}class ma extends ne{constructor(t){super(),te(this,t,pa,da,Z,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function _a(e){let t,n,r,i,s;const o=e[6].default,u=Se(o,e,e[5],null);let l=[e[3]],a={};for(let c=0;c<l.length;c+=1)a=F(a,l[c]);return{c(){t=we("h6"),u&&u.c(),ve(t,a)},m(c,f){z(c,t,f),u&&u.m(t,null),e[7](t),r=!0,i||(s=[ge(n=Nt.call(null,t,e[0])),ge(e[2].call(null,t))],i=!0)},p(c,[f]){u&&u.p&&(!r||f&32)&&Me(u,o,c,c[5],r?$e(o,c[5],f,null):Ce(c[5]),null),ve(t,a=ot(l,[f&8&&c[3]])),n&&We(n.update)&&f&1&&n.update.call(null,c[0])},i(c){r||(M(u,c),r=!0)},o(c){O(u,c),r=!1},d(c){c&&I(t),u&&u.d(c),e[7](null),i=!1,be(s)}}}function ga(e,t,n){const r=["use","getElement"];let i=ue(t,r),{$$slots:s={},$$scope:o}=t,{use:u=[]}=t;const l=st(fe());let a;function c(){return a}function f(h){ye[h?"unshift":"push"](()=>{a=h,n(1,a)})}return e.$$set=h=>{t=F(F({},t),it(h)),n(3,i=ue(t,r)),"use"in h&&n(0,u=h.use),"$$scope"in h&&n(5,o=h.$$scope)},[u,a,l,i,c,o,s,f]}class wa extends ne{constructor(t){super(),te(this,t,ga,_a,Z,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function va(e){let t,n,r,i,s;const o=e[6].default,u=Se(o,e,e[5],null);let l=[e[3]],a={};for(let c=0;c<l.length;c+=1)a=F(a,l[c]);return{c(){t=we("span"),u&&u.c(),ve(t,a)},m(c,f){z(c,t,f),u&&u.m(t,null),e[7](t),r=!0,i||(s=[ge(n=Nt.call(null,t,e[0])),ge(e[2].call(null,t))],i=!0)},p(c,[f]){u&&u.p&&(!r||f&32)&&Me(u,o,c,c[5],r?$e(o,c[5],f,null):Ce(c[5]),null),ve(t,a=ot(l,[f&8&&c[3]])),n&&We(n.update)&&f&1&&n.update.call(null,c[0])},i(c){r||(M(u,c),r=!0)},o(c){O(u,c),r=!1},d(c){c&&I(t),u&&u.d(c),e[7](null),i=!1,be(s)}}}function ya(e,t,n){const r=["use","getElement"];let i=ue(t,r),{$$slots:s={},$$scope:o}=t,{use:u=[]}=t;const l=st(fe());let a;function c(){return a}function f(h){ye[h?"unshift":"push"](()=>{a=h,n(1,a)})}return e.$$set=h=>{t=F(F({},t),it(h)),n(3,i=ue(t,r)),"use"in h&&n(0,u=h.use),"$$scope"in h&&n(5,o=h.$$scope)},[u,a,l,i,c,o,s,f]}class ba extends ne{constructor(t){super(),te(this,t,ya,va,Z,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}const ut=Li,xa=ha,Ea=ma,Aa=wa,tn=ba;re({class:"smui-card__content",component:ut});re({class:"mdc-card__media-content",component:ut});re({class:"mdc-card__action-buttons",component:ut});re({class:"mdc-card__action-icons",component:ut});function Na(e){let t;return{c(){t=mt("g")},m(n,r){z(n,t,r),e[3](t)},p:U,i:U,o:U,d(n){n&&I(t),e[3](null)}}}function ka(e,t,n){let{node:r=null}=t,{path:i=null}=t,s;const o=so();si(async function(){i&&!r&&n(1,r=new DOMParser().parseFromString(await(await fetch(i)).text(),"image/svg+xml").querySelector("svg"));let l=s.appendChild(await r);o("ready",{node:l})});function u(l){ye[l?"unshift":"push"](()=>{s=l,n(0,s)})}return e.$$set=l=>{"node"in l&&n(1,r=l.node),"path"in l&&n(2,i=l.path)},[s,r,i,u]}class Qn extends ne{constructor(t){super(),te(this,t,ka,Na,Z,{node:1,path:2})}}function Ta(e){let t,n,r,i,s;return{c(){t=mt("rect"),P(t,"class","tracing_paper svelte-1uddirp"),P(t,"x",n=e[0].x),P(t,"y",r=e[0].y),P(t,"width",i=e[0].width),P(t,"height",s=e[0].height)},m(o,u){z(o,t,u)},p(o,[u]){u&1&&n!==(n=o[0].x)&&P(t,"x",n),u&1&&r!==(r=o[0].y)&&P(t,"y",r),u&1&&i!==(i=o[0].width)&&P(t,"width",i),u&1&&s!==(s=o[0].height)&&P(t,"height",s)},i:U,o:U,d(o){o&&I(t)}}}function Sa(e,t,n){let r;return V(e,Pn,i=>n(0,r=i)),[r]}class $a extends ne{constructor(t){super(),te(this,t,Sa,Ta,Z,{})}}function Br(e){let t,n,r=e[1]=="floor"&&e[3]&&!e[2]&&Ur();const i=e[8].default,s=Se(i,e,e[7],null);return{c(){r&&r.c(),t=jn(),s&&s.c()},m(o,u){r&&r.m(o,u),z(o,t,u),s&&s.m(o,u),n=!0},p(o,u){o[1]=="floor"&&o[3]&&!o[2]?r?u&14&&M(r,1):(r=Ur(),r.c(),M(r,1),r.m(t.parentNode,t)):r&&(Fn(),O(r,1,1,()=>{r=null}),Bn()),s&&s.p&&(!n||u&128)&&Me(s,i,o,o[7],n?$e(i,o[7],u,null):Ce(o[7]),null)},i(o){n||(M(r),M(s,o),n=!0)},o(o){O(r),O(s,o),n=!1},d(o){r&&r.d(o),o&&I(t),s&&s.d(o)}}}function Ur(e){let t,n;return t=new $a({}),{c(){oe(t.$$.fragment)},m(r,i){Q(t,r,i),n=!0},i(r){n||(M(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){J(t,r)}}}function Ma(e){let t,n,r=e[4]&&Br(e);return{c(){t=mt("g"),r&&r.c(),P(t,"class","layer"),P(t,"data:name",e[0]),P(t,"data:type",e[1])},m(i,s){z(i,t,s),r&&r.m(t,null),n=!0},p(i,[s]){i[4]?r?(r.p(i,s),s&16&&M(r,1)):(r=Br(i),r.c(),M(r,1),r.m(t,null)):r&&(Fn(),O(r,1,1,()=>{r=null}),Bn()),(!n||s&1)&&P(t,"data:name",i[0]),(!n||s&2)&&P(t,"data:type",i[1])},i(i){n||(M(r),n=!0)},o(i){O(r),n=!1},d(i){i&&I(t),r&&r.d()}}}function Ca(e,t,n){let r,i,s,o,u;V(e,Ve,h=>n(5,o=h)),V(e,Le,h=>n(6,u=h));let{$$slots:l={},$$scope:a}=t,{name:c}=t,{type:f="overlay"}=t;return e.$$set=h=>{"name"in h&&n(0,c=h.name),"type"in h&&n(1,f=h.type),"$$scope"in h&&n(7,a=h.$$scope)},e.$$.update=()=>{e.$$.dirty&33&&n(4,r=o&&o.has(c)&&o.get(c).visible),e.$$.dirty&65&&n(3,i=u&&u.name==c),e.$$.dirty&33&&n(2,s=o&&o.keys().next().value==c)},[c,f,s,i,r,o,u,a,l]}class dn extends ne{constructor(t){super(),te(this,t,Ca,Ma,Z,{name:0,type:1})}}re({class:"smui-paper__content",component:ut});re({class:"smui-paper__title",component:Ea});re({class:"smui-paper__subtitle",component:Aa});re({class:"mdc-deprecated-list-item__text",component:tn});re({class:"mdc-deprecated-list-item__primary-text",component:tn});re({class:"mdc-deprecated-list-item__secondary-text",component:tn});re({class:"mdc-deprecated-list-item__meta",component:tn});re({class:"mdc-deprecated-list-group",component:ut});re({class:"mdc-deprecated-list-group__subheader",component:xa});function Pa(e){let t,n,r,i,s;const o=e[9].default,u=Se(o,e,e[8],null);return{c(){t=mt("svg"),n=mt("g"),u&&u.c(),P(n,"transform",e[3]),P(t,"class","view svelte-8t1hrz"),P(t,"viewBox",e[1]),P(t,"tabindex","0"),ur(t,"background-color",e[0])},m(l,a){z(l,t,a),yn(t,n),u&&u.m(n,null),e[10](t),r=!0,i||(s=Ht(t,"keyup",e[4]),i=!0)},p(l,a){u&&u.p&&(!r||a[0]&256)&&Me(u,o,l,l[8],r?$e(o,l[8],a,null):Ce(l[8]),null),(!r||a[0]&8)&&P(n,"transform",l[3]),(!r||a[0]&2)&&P(t,"viewBox",l[1]),(!r||a[0]&1)&&ur(t,"background-color",l[0])},i(l){r||(M(u,l),r=!0)},o(l){O(u,l),r=!1},d(l){l&&I(t),u&&u.d(l),e[10](null),i=!1,s()}}}function Oa(e,t,n){let r,i,s,o,u,l,a,c,f,h,_,w;V(e,Cr,p=>n(16,s=p)),V(e,Pn,p=>n(17,o=p)),V(e,Or,p=>n(18,u=p)),V(e,Pr,p=>n(19,l=p)),V(e,Mr,p=>n(3,a=p)),V(e,$r,p=>n(20,c=p)),V(e,Sr,p=>n(21,f=p)),V(e,Le,p=>n(22,h=p)),V(e,Ve,p=>n(23,_=p)),V(e,Tr,p=>n(24,w=p));let{$$slots:E={},$$scope:S}=t,{viewBox:g}=t,{interpolateZoom:k=Wn}=t,{scaleExtent:x="0 Infinity"}=t,{translateExtent:L="-Infinity -Infinity Infinity Infinity"}=t,{background:C=null}=t,N,j,X=!1,qe;si(()=>{C===null&&n(0,C=window.getComputedStyle(N).getPropertyValue("--anymapper-background-color")),de(Tr,w=N.viewBox.baseVal,w),de(Ve,_=new Map,_);let p=!1;N.querySelectorAll(".layer").forEach($=>{let H=$.getAttribute("data:name"),R=$.getAttribute("data:type"),B=!1;!p&&(R=="base"||R=="floor")&&(B=!0,p=!0,X=!0),R=="overlay"&&(B=!0);let ie={name:H,type:R,visible:B};_.set(H,ie),X&&(de(Le,h=ie,h),X=!1)}),j=Yl().scaleExtent(r).translateExtent([i.slice(0,2),i.slice(2,4)]).interpolate(k).on("zoom",v),ae(N).call(j);function v($){de(Mr,a=$.transform,a),Pe(),T()}N.focus();function T(){N.querySelectorAll("[data-lodrange]").forEach($=>{let H=JSON.parse($.getAttribute("data-lodrange")).map(B=>B=="Infinity"?1/0:B),R=a.k>=H[0]&&a.k<=H[1];$.setAttribute("visibility",R?"visible":"hidden")})}Pe(),T(),window.addEventListener("resize",function($){Pe()},!0),Le.subscribe(m)});function Pe(){de(Sr,f=N.getBoundingClientRect(),f);let p=N.getCTM();de($r,c=At.translate(p.e,p.f).scale(p.a),c),de(Cr,s=c.k*a.k,s),de(Pn,o=new DOMRect((-c.x/c.k-a.x)/a.k,(-c.y/c.k-a.y)/a.k,f.width/c.k/a.k,f.height/c.k/a.k),o),clearTimeout(qe),qe=setTimeout(function(v){de(Pr,l=s,l),de(Or,u=o,u)},300)}function St(p,v){v=v===void 0?300:v,j.scaleBy(ae(N).transition().duration(v),p)}function Ze(p,v,T){T=T===void 0?300:T,j.translateBy(ae(N).transition().duration(T),p,v)}function un(p,v){v=v===void 0?1200:v,j.translateTo(ae(N).transition().duration(v),p.x,p.y)}Ue.subscribe(d);function d(p){p&&p.position&&un(p.position)}Gl.subscribe(y);function y(p){!N||N.querySelectorAll(".selectable").forEach(v=>{v.getAttribute("id")==p?v.classList.add("hovered"):v.classList.remove("hovered")})}async function m(p){await(()=>new Promise(requestAnimationFrame))(),N.querySelectorAll("[data-inlayers]").forEach(v=>{let $=JSON.parse(v.getAttribute("data-inlayers")).includes(p.name);v.setAttribute("visibility",$?"visible":"hidden")})}function b(p){const v=100/s;switch(p.key){case"ArrowRight":Ze(-v,0);break;case"ArrowLeft":Ze(v,0);break;case"ArrowUp":Ze(0,v);break;case"ArrowDown":Ze(0,-v);break;case"+":St(1.5);break;case"-":St(.66);break}}function A(p){ye[p?"unshift":"push"](()=>{N=p,n(2,N)})}return e.$$set=p=>{"viewBox"in p&&n(1,g=p.viewBox),"interpolateZoom"in p&&n(5,k=p.interpolateZoom),"scaleExtent"in p&&n(6,x=p.scaleExtent),"translateExtent"in p&&n(7,L=p.translateExtent),"background"in p&&n(0,C=p.background),"$$scope"in p&&n(8,S=p.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&64&&(r=x.split(" ").map(p=>+p)),e.$$.dirty[0]&128&&(i=L.split(" ").map(p=>+p))},[C,g,N,a,b,k,x,L,S,E,A]}class Ra extends ne{constructor(t){super(),te(this,t,Oa,Pa,Z,{viewBox:1,interpolateZoom:5,scaleExtent:6,translateExtent:7,background:0},null,[-1,-1])}}const{getPrototypeOf:La,getOwnPropertyDescriptors:bh}=Object;La({});var Hr={},pn={},mn=34,ct=10,_n=13;function Ii(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Ia(e,t){var n=Ii(e);return function(r,i){return t(n(r),i,e)}}function Vr(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Y(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function qa(e){return e<0?"-"+Y(-e,6):e>9999?"+"+Y(e,6):Y(e,4)}function za(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":qa(e.getUTCFullYear())+"-"+Y(e.getUTCMonth()+1,2)+"-"+Y(e.getUTCDate(),2)+(i?"T"+Y(t,2)+":"+Y(n,2)+":"+Y(r,2)+"."+Y(i,3)+"Z":r?"T"+Y(t,2)+":"+Y(n,2)+":"+Y(r,2)+"Z":n||t?"T"+Y(t,2)+":"+Y(n,2)+"Z":"")}function qi(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,h){var _,w,E=i(f,function(S,g){if(_)return _(S,g-1);w=S,_=h?Ia(S,h):Ii(S)});return E.columns=w||[],E}function i(f,h){var _=[],w=f.length,E=0,S=0,g,k=w<=0,x=!1;f.charCodeAt(w-1)===ct&&--w,f.charCodeAt(w-1)===_n&&--w;function L(){if(k)return pn;if(x)return x=!1,Hr;var N,j=E,X;if(f.charCodeAt(j)===mn){for(;E++<w&&f.charCodeAt(E)!==mn||f.charCodeAt(++E)===mn;);return(N=E)>=w?k=!0:(X=f.charCodeAt(E++))===ct?x=!0:X===_n&&(x=!0,f.charCodeAt(E)===ct&&++E),f.slice(j+1,N-1).replace(/""/g,'"')}for(;E<w;){if((X=f.charCodeAt(N=E++))===ct)x=!0;else if(X===_n)x=!0,f.charCodeAt(E)===ct&&++E;else if(X!==n)continue;return f.slice(j,N)}return k=!0,f.slice(j,w)}for(;(g=L())!==pn;){for(var C=[];g!==Hr&&g!==pn;)C.push(g),g=L();h&&(C=h(C,S++))==null||_.push(C)}return _}function s(f,h){return f.map(function(_){return h.map(function(w){return c(_[w])}).join(e)})}function o(f,h){return h==null&&(h=Vr(f)),[h.map(c).join(e)].concat(s(f,h)).join(`
`)}function u(f,h){return h==null&&(h=Vr(f)),s(f,h).join(`
`)}function l(f){return f.map(a).join(`
`)}function a(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?za(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:u,formatRows:l,formatRow:a,formatValue:c}}var zi=qi(","),Da=zi.parse,ja=zi.parseRows,Di=qi("	"),Fa=Di.parse,Ba=Di.parseRows;function Ua(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Ha&&!!i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const Ha=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function D(e,t,n){return{resolve(r=n){return`${e}@${t}/${r}`}}}const Va=D("d3","7.6.1","dist/d3.min.js"),Xa=D("@observablehq/inputs","0.10.4","dist/inputs.min.js"),Ya=D("@observablehq/plot","0.5.2","dist/plot.umd.min.js"),Wa=D("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),gn=D("@observablehq/highlight.js","2.0.0","highlight.min.js"),Xr=D("@observablehq/katex","0.11.1","dist/katex.min.js"),Ga=D("lodash","4.17.21","lodash.min.js"),Za=D("htl","0.3.1","dist/htl.min.js"),Ka=D("jszip","3.10.0","dist/jszip.min.js"),Qa=D("marked","0.3.12","marked.min.js"),Yr=D("sql.js","1.7.0","dist/sql-wasm.js"),Ja=D("vega","5.22.1","build/vega.min.js"),ec=D("vega-lite","5.2.0","build/vega-lite.min.js"),tc=D("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),On=D("apache-arrow","4.0.1","Arrow.es2015.min.js"),nc=D("arquero","4.8.8","dist/arquero.min.js"),rc=D("topojson-client","3.1.0","dist/topojson-client.min.js"),ic=D("exceljs","4.3.0","dist/exceljs.min.js"),oc=D("mermaid","9.1.1","dist/mermaid.min.js"),Wr=D("leaflet","1.8.0","dist/leaflet.js"),Rt=new Map,kt=[],Rn=kt.map,sc=kt.some,uc=kt.hasOwnProperty,lc=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,ac=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,Gr=/(?:\.[^/]*|\/)$/;class rt extends Error{constructor(t){super(t)}}rt.prototype.name=rt.name;function Zr(e){const t=lc.exec(e);return t&&{name:t[1],version:t[2],path:t[3]}}function ji(e="https://cdn.jsdelivr.net/npm/",t=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(e))throw new Error("origin lacks trailing slash");function n(i){for(const s of t){let o=i[s];if(typeof o=="string")return o.startsWith("./")&&(o=o.slice(2)),Gr.test(o)?o:`${o}.js`}}function r(i){const s=`${e}${i.name}${i.version?`@${i.version}`:""}/package.json`;let o=Rt.get(s);return o||Rt.set(s,o=fetch(s).then(u=>{if(!u.ok)throw new rt("unable to load package.json");return u.redirected&&!Rt.has(u.url)&&Rt.set(u.url,o),u.json()})),o}return async function(s,o){if(s.startsWith(e)&&(s=s.substring(e.length)),/^(\w+:)|\/\//i.test(s))return s;if(/^[.]{0,2}\//i.test(s))return new URL(s,o==null?location:o).href;if(!s.length||/^[\s._]/.test(s)||/\s$/.test(s))throw new rt("illegal name");const u=Zr(s);if(!u)return`${e}${s}`;if(!u.version&&o!=null&&o.startsWith(e)){const a=await r(Zr(o.substring(e.length)));u.version=a.dependencies&&a.dependencies[u.name]||a.peerDependencies&&a.peerDependencies[u.name]}if(u.path&&!Gr.test(u.path)&&(u.path+=".js"),u.path&&u.version&&ac.test(u.version))return`${e}${u.name}@${u.version}/${u.path}`;const l=await r(u);return`${e}${l.name}@${l.version}/${u.path||n(l)||"index.js"}`}}var cc=nn(ji());function nn(e){const t=new Map,n=i(null);function r(u){if(typeof u!="string")return u;let l=t.get(u);return l||t.set(u,l=new Promise((a,c)=>{const f=document.createElement("script");f.onload=()=>{try{a(kt.pop()(i(u)))}catch{c(new rt("invalid module"))}f.remove()},f.onerror=()=>{c(new rt("unable to load module")),f.remove()},f.async=!0,f.src=u,window.define=Fi,document.head.appendChild(f)})),l}function i(u){return l=>Promise.resolve(e(l,u)).then(r)}function s(u){return nn((l,a)=>l in u&&(l=u[l],a=null,typeof l!="string")?l:e(l,a))}function o(u){return arguments.length>1?Promise.all(Rn.call(arguments,n)).then(fc):n(u)}return o.alias=s,o.resolve=e,o}function fc(e){const t={};for(const n of e)for(const r in n)uc.call(n,r)&&(n[r]==null?Object.defineProperty(t,r,{get:hc(n,r)}):t[r]=n[r]);return t}function hc(e,t){return()=>e[t]}function dc(e){return e=e+"",e==="exports"||e==="module"}function Fi(e,t,n){const r=arguments.length;r<2?(n=e,t=[]):r<3&&(n=t,t=typeof e=="string"?[]:e),kt.push(sc.call(t,dc)?i=>{const s={},o={exports:s};return Promise.all(Rn.call(t,u=>(u=u+"",u==="exports"?s:u==="module"?o:i(u)))).then(u=>(n.apply(null,u),o.exports))}:i=>Promise.all(Rn.call(t,i)).then(s=>typeof n=="function"?n.apply(null,s):n))}Fi.amd={};let Ie=cc;function pc(e){Ie=e}function mc(e){return e==null?Ie:nn(e)}async function Bi(e){const[t,n]=await Promise.all([e(Yr.resolve()),e.resolve(Yr.resolve("dist/"))]);return t({locateFile:r=>`${n}${r}`})}class Tt{constructor(t){Object.defineProperties(this,{_db:{value:t}})}static async open(t){const[n,r]=await Promise.all([Bi(Ie),Promise.resolve(t).then(Ln)]);return new Tt(new n.Database(r))}async query(t,n){return await gc(this._db,t,n)}async queryRow(t,n){return(await this.query(t,n))[0]||null}async explain(t,n){const r=await this.query(`EXPLAIN QUERY PLAN ${t}`,n);return Oe("pre",{className:"observablehq--inspect"},[wn(r.map(i=>i.detail).join(`
`))])}async describeTables({schema:t}={}){return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${t==null?"":" AND schema = ?"} AND name NOT LIKE 'sqlite_%'`,t==null?[]:[t])}async describeColumns({schema:t,table:n}={}){if(n==null)throw new Error("missing table");const r=await this.query(`SELECT name, type, "notnull" FROM pragma_table_info(?${t==null?"":", ?"}) ORDER BY cid`,t==null?[n]:[n,t]);if(!r.length)throw new Error(`table not found: ${n}`);return r.map(({name:i,type:s,notnull:o})=>({name:i,type:_c(s),databaseType:s,nullable:!o}))}async describe(t){const n=await(t===void 0?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[t]));if(!n.length)throw new Error("Not found");const{columns:r}=n;return Oe("table",{value:n},[Oe("thead",[Oe("tr",r.map(i=>Oe("th",[wn(i)])))]),Oe("tbody",n.map(i=>Oe("tr",r.map(s=>Oe("td",[wn(i[s])])))))])}async sql(){return this.query(...this.queryTag.apply(this,arguments))}queryTag(t,...n){return[t.join("?"),n]}}Object.defineProperty(Tt.prototype,"dialect",{value:"sqlite"});function _c(e){switch(e){case"NULL":return"null";case"INT":case"INTEGER":case"TINYINT":case"SMALLINT":case"MEDIUMINT":case"BIGINT":case"UNSIGNED BIG INT":case"INT2":case"INT8":return"integer";case"TEXT":case"CLOB":return"string";case"REAL":case"DOUBLE":case"DOUBLE PRECISION":case"FLOAT":case"NUMERIC":return"number";case"BLOB":return"buffer";case"DATE":case"DATETIME":return"string";default:return/^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\(/.test(e)?"string":/^(?:DECIMAL|NUMERIC)\(/.test(e)?"number":"other"}}function Ln(e){return typeof e=="string"?fetch(e).then(Ln):e instanceof Response||e instanceof Blob?e.arrayBuffer().then(Ln):e instanceof ArrayBuffer?new Uint8Array(e):e}async function gc(e,t,n){const[r]=await e.exec(t,n);if(!r)return[];const{columns:i,values:s}=r,o=s.map(u=>Object.fromEntries(u.map((l,a)=>[i[a],l])));return o.columns=i,o}function Oe(e,t,n){arguments.length===2&&(n=t,t=void 0);const r=document.createElement(e);if(t!==void 0)for(const i in t)r[i]=t[i];if(n!==void 0)for(const i of n)r.appendChild(i);return r}function wn(e){return document.createTextNode(e)}class wc{constructor(t){Object.defineProperties(this,{_:{value:t},sheetNames:{value:t.worksheets.map(n=>n.name),enumerable:!0}})}sheet(t,n){const r=typeof t=="number"?this.sheetNames[t]:this.sheetNames.includes(t+="")?t:null;if(r==null)throw new Error(`Sheet not found: ${t}`);const i=this._.getWorksheet(r);return vc(i,n)}}function vc(e,{range:t,headers:n}={}){let[[r,i],[s,o]]=yc(t,e);const u=n?e._rows[i++]:null;let l=new Set(["#"]);for(let c=r;c<=s;c++){const f=u?Kr(u.findCell(c+1)):null;let h=f&&f+""||bc(c);for(;l.has(h);)h+="_";l.add(h)}l=new Array(r).concat(Array.from(l));const a=new Array(o-i+1);for(let c=i;c<=o;c++){const f=a[c-i]=Object.create(null,{"#":{value:c+1}}),h=e.getRow(c+1);if(h.hasValues)for(let _=r;_<=s;_++){const w=Kr(h.findCell(_+1));w!=null&&(f[l[_+1]]=w)}}return a.columns=l.filter(()=>!0),a}function Kr(e){if(!e)return;const{value:t}=e;if(t&&typeof t=="object"&&!(t instanceof Date)){if(t.formula||t.sharedFormula)return t.result&&t.result.error?NaN:t.result;if(t.richText)return Qr(t);if(t.text){let{text:n}=t;return n.richText&&(n=Qr(n)),t.hyperlink&&t.hyperlink!==n?`${t.hyperlink} ${n}`:n}return t}return t}function Qr(e){return e.richText.map(t=>t.text).join("")}function yc(e=":",{columnCount:t,rowCount:n}){if(e+="",!e.match(/^[A-Z]*\d*:[A-Z]*\d*$/))throw new Error("Malformed range specifier");const[[r=0,i=0],[s=t-1,o=n-1]]=e.split(":").map(xc);return[[r,i],[s,o]]}function bc(e){let t="";e++;do t=String.fromCharCode(64+(e%26||26))+t;while(e=Math.floor((e-1)/26));return t}function xc(e){const[,t,n]=e.match(/^([A-Z]*)(\d*)$/);let r=0;if(t)for(let i=0;i<t.length;i++)r+=Math.pow(26,t.length-i-1)*(t.charCodeAt(i)-64);return[r?r-1:void 0,n?+n-1:void 0]}async function De(e){const t=await fetch(await e.url());if(!t.ok)throw new Error(`Unable to load file: ${e.name}`);return t}async function Jr(e,t,{array:n=!1,typed:r=!1}={}){const i=await e.text();return(t==="	"?n?Ba:Fa:n?ja:Da)(i,r&&Ua)}class Jn{constructor(t,n){Object.defineProperty(this,"name",{value:t,enumerable:!0}),n!==void 0&&Object.defineProperty(this,"mimeType",{value:n+"",enumerable:!0})}async blob(){return(await De(this)).blob()}async arrayBuffer(){return(await De(this)).arrayBuffer()}async text(){return(await De(this)).text()}async json(){return(await De(this)).json()}async stream(){return(await De(this)).body}async csv(t){return Jr(this,",",t)}async tsv(t){return Jr(this,"	",t)}async image(t){const n=await this.url();return new Promise((r,i)=>{const s=new Image;new URL(n,document.baseURI).origin!==new URL(location).origin&&(s.crossOrigin="anonymous"),Object.assign(s,t),s.onload=()=>r(s),s.onerror=()=>i(new Error(`Unable to load file: ${this.name}`)),s.src=n})}async arrow(){const[t,n]=await Promise.all([Ie(On.resolve()),De(this)]);return t.Table.from(n)}async sqlite(){return Tt.open(De(this))}async zip(){const[t,n]=await Promise.all([Ie(Ka.resolve()),this.arrayBuffer()]);return new Nc(await t.loadAsync(n))}async xml(t="application/xml"){return new DOMParser().parseFromString(await this.text(),t)}async html(){return this.xml("text/html")}async xlsx(){const[t,n]=await Promise.all([Ie(ic.resolve()),this.arrayBuffer()]);return new wc(await new t.Workbook().xlsx.load(n))}}class W extends Jn{constructor(t,n,r){super(n,r),Object.defineProperty(this,"_url",{value:t})}async url(){return await this._url+""}}function Ec(e){throw new Error(`File not found: ${e}`)}function Ac(e){return Object.assign(t=>{const n=e(t+="");if(n==null)throw new Error(`File not found: ${t}`);if(typeof n=="object"&&"url"in n){const{url:r,mimeType:i}=n;return new W(r,t,i)}return new W(n,t)},{prototype:W.prototype})}class Nc{constructor(t){Object.defineProperty(this,"_",{value:t}),this.filenames=Object.keys(t.files).filter(n=>!t.files[n].dir)}file(t){const n=this._.file(t+="");if(!n||n.dir)throw new Error(`file not found: ${t}`);return new kc(n)}}class kc extends Jn{constructor(t){super(t.name),Object.defineProperty(this,"_",{value:t}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}function Tc(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}function Sc(e,t,n){n==null&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=e*n,r.height=t*n,r.style.width=e+"px";var i=r.getContext("2d");return i.scale(n,n),i}function $c(e,t="untitled",n="Save"){const r=document.createElement("a"),i=r.appendChild(document.createElement("button"));i.textContent=n,r.download=t;async function s(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(r.href),r.removeAttribute("href"),i.textContent=n,i.disabled=!1}return r.onclick=async o=>{if(i.disabled=!0,r.href)return s();i.textContent="Saving\u2026";try{const u=await(typeof e=="function"?e():e);i.textContent="Download",r.href=URL.createObjectURL(u)}catch{i.textContent=n}if(o.eventPhase)return s();i.disabled=!1},r}var Lt={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mc(e,t){var n=e+="",r=n.indexOf(":"),i;r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1));var s=Lt.hasOwnProperty(n)?document.createElementNS(Lt[n],e):document.createElement(e);if(t)for(var o in t)n=o,r=n.indexOf(":"),i=t[o],r>=0&&(n=o.slice(0,r))!=="xmlns"&&(o=o.slice(r+1)),Lt.hasOwnProperty(n)?s.setAttributeNS(Lt[n],o,i):s.setAttribute(o,i);return s}function Cc(e){var t=document.createElement("input");return e!=null&&(t.type=e),t}function Pc(e,t,n){arguments.length===1&&(t=e,e=null);var r=document.createElement("input");return r.min=e=e==null?0:+e,r.max=t=t==null?1:+t,r.step=n==null?"any":n=+n,r.type="range",r}function Oc(e){var t=document.createElement("select");return Array.prototype.forEach.call(e,function(n){var r=document.createElement("option");r.value=r.textContent=n,t.appendChild(r)}),t}function Rc(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,e,t]),n.setAttribute("width",e),n.setAttribute("height",t),n}function Lc(e){return document.createTextNode(e)}var Ic=0;function Ui(e){return new Hi("O-"+(e==null?"":e+"-")+ ++Ic)}function Hi(e){this.id=e,this.href=new URL(`#${e}`,location)+""}Hi.prototype.toString=function(){return"url("+this.href+")"};const qc={canvas:Tc,context2d:Sc,download:$c,element:Mc,input:Cc,range:Pc,select:Oc,svg:Rc,text:Lc,uid:Ui};function zc(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)})}function Dc(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsText(e)})}function jc(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)})}const Fc={buffer:zc,text:Dc,url:jc};function er(){return this}function Vi(e,t){let n=!1;if(typeof t!="function")throw new Error("dispose is not a function");return{[Symbol.iterator]:er,next:()=>n?{done:!0}:(n=!0,{done:!1,value:e}),return:()=>(n=!0,t(e),{done:!0}),throw:()=>({done:n=!0})}}function*Bc(e,t){for(var n,r=-1;!(n=e.next()).done;)t(n.value,++r)&&(yield n.value)}function rn(e){let t=!1,n,r;const i=e(s);if(i!=null&&typeof i!="function")throw new Error(typeof i.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function s(u){return r?(r(u),r=null):t=!0,n=u}function o(){return{done:!1,value:t?(t=!1,Promise.resolve(n)):new Promise(u=>r=u)}}return{[Symbol.iterator]:er,throw:()=>({done:!0}),return:()=>(i!=null&&i(),{done:!0}),next:o}}function Uc(e){return rn(function(t){var n=Hc(e),r=ei(e);function i(){t(ei(e))}return e.addEventListener(n,i),r!==void 0&&t(r),function(){e.removeEventListener(n,i)}})}function ei(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];case"select-multiple":return Array.from(e.selectedOptions,t=>t.value);default:return e.value}}function Hc(e){switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}function*Vc(e,t){for(var n,r=-1;!(n=e.next()).done;)yield t(n.value,++r)}function Xc(e){let t;const n=[],r=e(i);if(r!=null&&typeof r!="function")throw new Error(typeof r.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function i(o){return n.push(o),t&&(t(n.shift()),t=null),o}function s(){return{done:!1,value:n.length?Promise.resolve(n.shift()):new Promise(o=>t=o)}}return{[Symbol.iterator]:er,throw:()=>({done:!0}),return:()=>(r!=null&&r(),{done:!0}),next:s}}function*Yc(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0;++r<i;)yield e+r*n}function Wc(e,t){if(!(!isFinite(t=+t)||t<0||t!==t|0)){for(var n,r=-1;!(n=e.next()).done;)if(++r===t)return n.value}}function Gc(e){const t=URL.createObjectURL(new Blob([e],{type:"text/javascript"})),n=new Worker(t);return Vi(n,()=>{n.terminate(),URL.revokeObjectURL(t)})}const Zc={disposable:Vi,filter:Bc,input:Uc,map:Vc,observe:rn,queue:Xc,range:Yc,valueAt:Wc,worker:Gc};function tr(e,t){return function(n){var r=n[0],i=[],s,o=null,u,l,a,c,f,h,_,w=-1;for(c=1,f=arguments.length;c<f;++c){if(s=arguments[c],s instanceof Node)i[++w]=s,r+="<!--o:"+w+"-->";else if(Array.isArray(s)){for(h=0,_=s.length;h<_;++h)u=s[h],u instanceof Node?(o===null&&(i[++w]=o=document.createDocumentFragment(),r+="<!--o:"+w+"-->"),o.appendChild(u)):(o=null,r+=u);o=null}else r+=s;r+=n[c]}if(o=e(r),++w>0){for(l=new Array(w),a=document.createTreeWalker(o,NodeFilter.SHOW_COMMENT,null,!1);a.nextNode();)u=a.currentNode,/^o:/.test(u.nodeValue)&&(l[+u.nodeValue.slice(2)]=u);for(c=0;c<w;++c)(u=l[c])&&u.parentNode.replaceChild(i[c],u)}return o.childNodes.length===1?o.removeChild(o.firstChild):o.nodeType===11?((u=t()).appendChild(o),u):o}}const Kc=tr(function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),document.importNode(t.content,!0)},function(){return document.createElement("span")});async function Qc(e){const t=await e(Wr.resolve());if(!t._style){const n=document.createElement("link");n.rel="stylesheet",n.href=await e.resolve(Wr.resolve("dist/leaflet.css")),t._style=document.head.appendChild(n)}return t}function Jc(e){return e(Qa.resolve()).then(function(t){return tr(function(n){var r=document.createElement("div");r.innerHTML=t(n,{langPrefix:""}).trim();var i=r.querySelectorAll("pre code[class]");return i.length>0&&e(gn.resolve()).then(function(s){i.forEach(function(o){function u(){s.highlightBlock(o),o.parentNode.classList.add("observablehq--md-pre")}s.getLanguage(o.className)?u():e(gn.resolve("async-languages/index.js")).then(l=>{if(l.has(o.className))return e(gn.resolve("async-languages/"+l.get(o.className))).then(a=>{s.registerLanguage(o.className,a)})}).then(u,u)})}),r},function(){return document.createElement("div")})})}async function ef(e){const t=await e(oc.resolve());return t.initialize({securityLevel:"loose",theme:"neutral"}),function(){const r=document.createElement("div");return r.innerHTML=t.render(Ui().id,String.raw.apply(String,arguments)),r.removeChild(r.firstChild)}}function tf(e){let t;Object.defineProperties(this,{generator:{value:rn(n=>void(t=n))},value:{get:()=>e,set:n=>t(e=n)}}),e!==void 0&&t(e)}function*nf(){for(;;)yield Date.now()}function rf(e,t){return new Promise(function(n){setTimeout(function(){n(t)},e)})}var In=new Map;function of(e,t){var n=new Promise(function(r){In.delete(t);var i=t-e;if(!(i>0))throw new Error("invalid time");if(i>2147483647)throw new Error("too long to wait");setTimeout(r,i)});return In.set(t,n),n}function Xi(e,t){var n;return(n=In.get(e=+e))?n.then(()=>t):(n=Date.now())>=e?Promise.resolve(t):of(n,e).then(()=>t)}function sf(e,t){return Xi(Math.ceil((Date.now()+1)/e)*e,t)}const uf={delay:rf,tick:sf,when:Xi};function lf(e,t){if(/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,t==null?location:t).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");return"https://unpkg.com/"+e}const af=tr(function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e.trim(),t},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")});var cf=String.raw;function ff(e){return new Promise(function(t,n){var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onerror=n,r.onload=t,document.head.appendChild(r)})}function hf(e){return Promise.all([e(Xr.resolve()),e.resolve(Xr.resolve("dist/katex.min.css")).then(ff)]).then(function(t){var n=t[0],r=i();function i(s){return function(){var o=document.createElement("div");return n.render(cf.apply(String,arguments),o,s),o.removeChild(o.firstChild)}}return r.options=i,r.block=i({displayMode:!0}),r})}async function df(e){const[t,n,r]=await Promise.all([Ja,ec,tc].map(i=>e(i.resolve())));return r.register(t,n)}function pf(){return rn(function(e){var t=e(document.body.clientWidth);function n(){var r=document.body.clientWidth;r!==t&&e(t=r)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}})}const mf=Object.assign(async(e,t,n)=>{const r=gf(t,await e);return r?ti(await e,r,n):null},{sql(e,t){return async function(){return ti(e,arguments,t)}}});async function ti(e,t,n){if(!!e){if(typeof e.queryTag=="function"){const r=new AbortController,i={signal:r.signal};if(n.then(()=>r.abort("invalidated")),typeof e.queryStream=="function")return _f(e.queryStream(...e.queryTag.apply(e,t),i));if(typeof e.query=="function")return e.query(...e.queryTag.apply(e,t),i)}if(typeof e.sql=="function")return e.sql.apply(e,t);throw new Error("source does not implement query, queryStream, or sql")}}async function*_f(e){const t=await e,n=[];n.done=!1,n.error=null,n.schema=t.schema;try{const r=t.readRows();do{const i=await r.next();if(i.done)n.done=!0;else for(const s of i.value)n.push(s);yield n}while(!n.done)}catch(r){n.error=r,yield n}}function gf(e,t){const n=t&&typeof t.escape=="function"?t.escape:c=>c,{select:r,from:i,filter:s,sort:o,slice:u}=e;if(i.table===null||r.columns===null||r.columns&&r.columns.length===0)return;const a=[[`SELECT ${r.columns.map(c=>`t.${n(c)}`)} FROM ${wf(i.table,n)} t`]];for(let c=0;c<s.length;++c)q(c?`
AND `:`
WHERE `,a),yf(s[c],a);for(let c=0;c<o.length;++c)q(c?", ":`
ORDER BY `,a),vf(o[c],a);return(u.to!==null||u.from!==null)&&q(`
LIMIT ${u.to!==null?u.to-(u.from||0):1e9}`,a),u.from!==null&&q(` OFFSET ${u.from}`,a),a}function wf(e,t){if(typeof e=="object"){let n="";return e.database!=null&&(n+=t(e.database)+"."),e.schema!=null&&(n+=t(e.schema)+"."),n+=t(e.table),n}return e}function q(e,t){const n=t[0];n[n.length-1]+=e}function vf({column:e,direction:t},n){q(`t.${e} ${t.toUpperCase()}`,n)}function yf({type:e,operands:t},n){if(t.length<1)throw new Error("Invalid operand length");if(t.length===1)switch(Qe(t[0],n),e){case"n":q(" IS NULL",n);return;case"nn":q(" IS NOT NULL",n);return;default:throw new Error("Invalid filter operation")}if(t.length===2&&!["in","nin"].includes(e))if(["c","nc"].includes(e)){switch(Qe(t[0],n),e){case"c":q(" LIKE ",n);break;case"nc":q(" NOT LIKE ",n);break}Qe(xf(t[1]),n);return}else{switch(Qe(t[0],n),e){case"eq":q(" = ",n);break;case"ne":q(" <> ",n);break;case"gt":q(" > ",n);break;case"lt":q(" < ",n);break;case"gte":q(" >= ",n);break;case"lte":q(" <= ",n);break;default:throw new Error("Invalid filter operation")}Qe(t[1],n);return}switch(Qe(t[0],n),e){case"in":q(" IN (",n);break;case"nin":q(" NOT IN (",n);break;default:throw new Error("Invalid filter operation")}bf(t.slice(1),n),q(")",n)}function Qe(e,t){e.type==="column"?q(`t.${e.value}`,t):(t.push(e.value),t[0].push(""))}function bf(e,t){let n=!0;for(const r of e)n?n=!1:q(",",t),t.push(r.value),t[0].push("")}function xf(e){return{...e,value:`%${e.value}%`}}const Yi=Object.assign(Object.defineProperties(function(t){const n=mc(t);Object.defineProperties(this,Ef({FileAttachment:()=>Ec,Mutable:()=>tf,now:nf,width:pf,dot:()=>n(Wa.resolve()),htl:()=>n(Za.resolve()),html:()=>Kc,md:()=>Jc(n),svg:()=>af,tex:()=>hf(n),_:()=>n(Ga.resolve()),aq:()=>n.alias({"apache-arrow":On.resolve()})(nc.resolve()),Arrow:()=>n(On.resolve()),d3:()=>n(Va.resolve()),Inputs:()=>n(Xa.resolve()).then(r=>({...r,file:r.fileOf(Jn)})),L:()=>Qc(n),mermaid:()=>ef(n),Plot:()=>n(Ya.resolve()),__query:()=>mf,require:()=>n,resolve:()=>lf,SQLite:()=>Bi(n),SQLiteDatabaseClient:()=>Tt,topojson:()=>n(rc.resolve()),vl:()=>df(n),aapl:()=>new W("https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9").csv({typed:!0}),alphabet:()=>new W("https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d").csv({typed:!0}),cars:()=>new W("https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6").csv({typed:!0}),citywages:()=>new W("https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a").csv({typed:!0}),diamonds:()=>new W("https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252").csv({typed:!0}),flare:()=>new W("https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000").csv({typed:!0}),industries:()=>new W("https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f").csv({typed:!0}),miserables:()=>new W("https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052").json(),olympians:()=>new W("https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c").csv({typed:!0}),penguins:()=>new W("https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a").csv({typed:!0}),weather:()=>new W("https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f").csv({typed:!0}),DOM:qc,Files:Fc,Generators:Zc,Promises:uf}))},{resolve:{get:()=>Ie.resolve,enumerable:!0,configurable:!0},require:{get:()=>Ie,set:pc,enumerable:!0,configurable:!0}}),{resolveFrom:ji,requireFrom:nn});function Ef(e){return Object.fromEntries(Object.entries(e).map(Af))}function Af([e,t]){return[e,{value:t,writable:!0,enumerable:!0}]}function se(e,t){this.message=e+"",this.input=t}se.prototype=Object.create(Error.prototype);se.prototype.name="RuntimeError";se.prototype.constructor=se;function Nf(e){return e&&typeof e.next=="function"&&typeof e.return=="function"}function kf(e,t,n){if(typeof t=="function"&&(n=t,t=null),typeof n!="function")throw new Error("invalid observer");t==null&&(t=new Yi);const{modules:r,id:i}=e,s=new Map,o=new or(t),u=l(i);function l(a){let c=s.get(a);return c||s.set(a,c=o.module()),c}for(const a of r){const c=l(a.id);let f=0;for(const h of a.variables)h.from?c.import(h.remote,h.name,l(h.from)):c===u?c.variable(n(h,f,a.variables)).define(h.name,h.inputs,h.value):c.define(h.name,h.inputs,h.value),++f}return o}var Wi=Array.prototype,Tf=Wi.map,Sf=Wi.forEach;function qn(e){return function(){return e}}function on(e){return e}function $f(e){return function(){throw e}}function Te(){}var sn=1,nr=2,Bt=3,yt={};function Ge(e,t,n){n||(n=yt),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:rr,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:Te,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Promise.resolve(void 0),writable:!0},_reachable:{value:n!==yt,writable:!0},_rejector:{value:Pf(this)},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}Object.defineProperties(Ge.prototype,{_pending:{value:If,writable:!0,configurable:!0},_fulfilled:{value:qf,writable:!0,configurable:!0},_rejected:{value:zf,writable:!0,configurable:!0},define:{value:Of,writable:!0,configurable:!0},delete:{value:Lf,writable:!0,configurable:!0},import:{value:Rf,writable:!0,configurable:!0}});function Mf(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function Cf(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function rr(){throw rr}function me(){throw me}function Pf(e){return function(t){throw t===me?t:t===rr?new se(e._name+" is not defined",e._name):t instanceof Error&&t.message?new se(t.message,e._name):new se(e._name+" could not be resolved",e._name)}}function ni(e){return function(){throw new se(e+" is defined more than once")}}function Of(e,t,n){switch(arguments.length){case 1:{n=e,e=t=null;break}case 2:{n=t,typeof e=="string"?t=null:(t=e,e=null);break}}return ir.call(this,e==null?null:e+"",t==null?[]:Tf.call(t,this._module._resolve,this._module),typeof n=="function"?n:qn(n))}function ir(e,t,n){var r=this._module._scope,i=this._module._runtime;if(this._inputs.forEach(Cf,this),t.forEach(Mf,this),this._inputs=t,this._definition=n,this._value=void 0,n===Te?i._variables.delete(this):i._variables.add(this),e!==this._name||r.get(e)!==this){var s,o;if(this._name)if(this._outputs.size)r.delete(this._name),o=this._module._resolve(this._name),o._outputs=this._outputs,this._outputs=new Set,o._outputs.forEach(function(u){u._inputs[u._inputs.indexOf(this)]=o},this),o._outputs.forEach(i._updates.add,i._updates),i._dirty.add(o).add(this),r.set(this._name,o);else if((o=r.get(this._name))===this)r.delete(this._name);else if(o._type===Bt)o._duplicates.delete(this),this._duplicate=void 0,o._duplicates.size===1&&(o=o._duplicates.keys().next().value,s=r.get(this._name),o._outputs=s._outputs,s._outputs=new Set,o._outputs.forEach(function(u){u._inputs[u._inputs.indexOf(s)]=o}),o._definition=o._duplicate,o._duplicate=void 0,i._dirty.add(s).add(o),i._updates.add(o),r.set(this._name,o));else throw new Error;if(this._outputs.size)throw new Error;e&&((o=r.get(e))?o._type===Bt?(this._definition=ni(e),this._duplicate=n,o._duplicates.add(this)):o._type===nr?(this._outputs=o._outputs,o._outputs=new Set,this._outputs.forEach(function(u){u._inputs[u._inputs.indexOf(o)]=this},this),i._dirty.add(o).add(this),r.set(e,this)):(o._duplicate=o._definition,this._duplicate=n,s=new Ge(Bt,this._module),s._name=e,s._definition=this._definition=o._definition=ni(e),s._outputs=o._outputs,o._outputs=new Set,s._outputs.forEach(function(u){u._inputs[u._inputs.indexOf(o)]=s}),s._duplicates=new Set([this,o]),i._dirty.add(o).add(s),i._updates.add(o).add(s),r.set(e,s)):r.set(e,this)),this._name=e}return this._version>0&&++this._version,i._updates.add(this),i._compute(),this}function Rf(e,t,n){return arguments.length<3&&(n=t,t=e),ir.call(this,t+"",[n._resolve(e+"")],on)}function Lf(){return ir.call(this,null,[],Te)}function If(){this._observer.pending&&this._observer.pending()}function qf(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)}function zf(e){this._observer.rejected&&this._observer.rejected(e,this._name)}function bt(e,t=[]){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map},_builtins:{value:new Map([["invalidation",Gi],["visibility",Zi],...t])},_source:{value:null,writable:!0}})}Object.defineProperties(bt.prototype,{_copy:{value:Vf,writable:!0,configurable:!0},_resolve:{value:Xf,writable:!0,configurable:!0},redefine:{value:Df,writable:!0,configurable:!0},define:{value:jf,writable:!0,configurable:!0},derive:{value:Hf,writable:!0,configurable:!0},import:{value:Ff,writable:!0,configurable:!0},value:{value:Uf,writable:!0,configurable:!0},variable:{value:Bf,writable:!0,configurable:!0},builtin:{value:Yf,writable:!0,configurable:!0}});function Df(e){var t=this._scope.get(e);if(!t)throw new se(e+" is not defined");if(t._type===Bt)throw new se(e+" is defined more than once");return t.define.apply(t,arguments)}function jf(){var e=new Ge(sn,this);return e.define.apply(e,arguments)}function Ff(){var e=new Ge(sn,this);return e.import.apply(e,arguments)}function Bf(e){return new Ge(sn,this,e)}async function Uf(e){var t=this._scope.get(e);if(!t)throw new se(e+" is not defined");if(t._observer===yt){t=this.variable(!0).define([e],on);try{return await zn(this._runtime,t)}finally{t.delete()}}else return zn(this._runtime,t)}async function zn(e,t){await e._compute();try{return await t._promise}catch(n){if(n===me)return zn(e,t);throw n}}function Hf(e,t){var n=new bt(this._runtime,this._builtins);return n._source=this,Sf.call(e,function(r){typeof r!="object"&&(r={name:r+""}),r.alias==null&&(r.alias=r.name),n.import(r.name,r.alias,t)}),Promise.resolve().then(()=>{const r=new Set([this]);for(const i of r)for(const s of i._scope.values())if(s._definition===on){const o=s._inputs[0]._module,u=o._source||o;if(u===this){console.warn("circular module definition; ignoring");return}r.add(u)}this._copy(n,new Map)}),n}function Vf(e,t){e._source=this,t.set(this,e);for(const[s,o]of this._scope){var n=e._scope.get(s);if(!(n&&n._type===sn))if(o._definition===on){var r=o._inputs[0],i=r._module;e.import(r._name,s,t.get(i)||(i._source?i._copy(new bt(e._runtime,e._builtins),t):i))}else e.define(s,o._inputs.map(Wf),o._definition)}return e}function Xf(e){var t=this._scope.get(e),n;if(!t)if(t=new Ge(nr,this),this._builtins.has(e))t.define(e,qn(this._builtins.get(e)));else if(this._runtime._builtin._scope.has(e))t.import(e,this._runtime._builtin);else{try{n=this._runtime._global(e)}catch(r){return t.define(e,$f(r))}n===void 0?this._scope.set(t._name=e,t):t.define(e,qn(n))}return t}function Yf(e,t){this._builtins.set(e,t)}function Wf(e){return e._name}const Gf=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:e=>setTimeout(e,0);var Gi={},Zi={};function or(e=new Yi,t=dh){var n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_precomputes:{value:[],writable:!0},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(var r in e)new Ge(nr,n).define(r,[],e[r])}Object.defineProperties(or,{load:{value:kf,writable:!0,configurable:!0}});Object.defineProperties(or.prototype,{_precompute:{value:Qf,writable:!0,configurable:!0},_compute:{value:Jf,writable:!0,configurable:!0},_computeSoon:{value:eh,writable:!0,configurable:!0},_computeNow:{value:th,writable:!0,configurable:!0},dispose:{value:Zf,writable:!0,configurable:!0},module:{value:Kf,writable:!0,configurable:!0},fileAttachments:{value:Ac,writable:!0,configurable:!0}});function Zf(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach(e=>{e._invalidate(),e._version=NaN})}function Kf(e,t=Te){let n;if(e===void 0)return(n=this._init)?(this._init=null,n):new bt(this);if(n=this._modules.get(e),n)return n;this._init=n=new bt(this),this._modules.set(e,n);try{e(this,t)}finally{this._init=null}return n}function Qf(e){this._precomputes.push(e),this._compute()}function Jf(){return this._computing||(this._computing=this._computeSoon())}function eh(){return new Promise(Gf).then(()=>this._disposed?void 0:this._computeNow())}async function th(){var e=[],t,n,r=this._precomputes;if(r.length){this._precomputes=[];for(const s of r)s();await nh(3)}t=new Set(this._dirty),t.forEach(function(s){s._inputs.forEach(t.add,t);const o=hh(s);o>s._reachable?this._updates.add(s):o<s._reachable&&s._invalidate(),s._reachable=o},this),t=new Set(this._updates),t.forEach(function(s){s._reachable?(s._indegree=0,s._outputs.forEach(t.add,t)):(s._indegree=NaN,t.delete(s))}),this._computing=null,this._updates.clear(),this._dirty.clear(),t.forEach(function(s){s._outputs.forEach(ih)});do{for(t.forEach(function(s){s._indegree===0&&e.push(s)});n=e.pop();)lh(n),n._outputs.forEach(i),t.delete(n);t.forEach(function(s){rh(s)&&(ch(s,new se("circular definition")),s._outputs.forEach(oh),t.delete(s))})}while(t.size);function i(s){--s._indegree===0&&e.push(s)}}function nh(e=0){let t=Promise.resolve();for(let n=0;n<e;++n)t=t.then(()=>{});return t}function rh(e){const t=new Set(e._inputs);for(const n of t){if(n===e)return!0;n._inputs.forEach(t.add,t)}return!1}function ih(e){++e._indegree}function oh(e){--e._indegree}function sh(e){return e._promise.catch(e._rejector)}function vn(e){return new Promise(function(t){e._invalidate=t})}function uh(e,t){let n=typeof IntersectionObserver=="function"&&t._observer&&t._observer._node,r=!n,i=Te,s=Te,o,u;return n&&(u=new IntersectionObserver(([l])=>(r=l.isIntersecting)&&(o=null,i())),u.observe(n),e.then(()=>(u.disconnect(),u=null,s()))),function(l){return r?Promise.resolve(l):u?(o||(o=new Promise((a,c)=>(i=a,s=c))),o.then(()=>l)):Promise.reject()}}function lh(e){e._invalidate(),e._invalidate=Te,e._pending();const t=e._value,n=++e._version;let r=null;const i=e._promise=(e._inputs.length?Promise.all(e._inputs.map(sh)).then(s):new Promise(u=>u(e._definition.call(t)))).then(o);function s(u){if(e._version!==n)throw me;for(var l=0,a=u.length;l<a;++l)switch(u[l]){case Gi:{u[l]=r=vn(e);break}case Zi:{r||(r=vn(e)),u[l]=uh(r,e);break}}return e._definition.apply(t,u)}function o(u){if(e._version!==n)throw me;return Nf(u)?((r||vn(e)).then(fh(u)),ah(e,n,u)):u}i.then(u=>{e._value=u,e._fulfilled(u)},u=>{u!==me&&(e._value=void 0,e._rejected(u))})}function ah(e,t,n){const r=e._module._runtime;let i;function s(l){return new Promise(a=>a(n.next(i))).then(({done:a,value:c})=>a?void 0:Promise.resolve(c).then(l))}function o(){const l=s(a=>{if(e._version!==t)throw me;return i=a,u(a,l).then(()=>r._precompute(o)),e._fulfilled(a),a});l.catch(a=>{if(a===me)throw a;if(e._version!==t)throw me;u(void 0,l),e._rejected(a)})}function u(l,a){return e._value=l,e._promise=a,e._outputs.forEach(r._updates.add,r._updates),r._compute()}return s(l=>{if(e._version!==t)throw me;return i=l,r._precompute(o),l})}function ch(e,t){e._invalidate(),e._invalidate=Te,e._pending(),++e._version,e._indegree=NaN,(e._promise=Promise.reject(t)).catch(Te),e._value=void 0,e._rejected(t)}function fh(e){return function(){e.return()}}function hh(e){if(e._observer!==yt)return!0;var t=new Set(e._outputs);for(const n of t){if(n._observer!==yt)return!0;n._outputs.forEach(t.add,t)}return!1}function dh(e){return window[e]}function ph(e){let t,n;return t=new Qn({props:{path:"data/floor0.svg"}}),{c(){oe(t.$$.fragment)},m(r,i){Q(t,r,i),n=!0},p:U,i(r){n||(M(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){J(t,r)}}}function mh(e){let t,n;return t=new Qn({props:{path:"data/floor1.svg"}}),{c(){oe(t.$$.fragment)},m(r,i){Q(t,r,i),n=!0},p:U,i(r){n||(M(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){J(t,r)}}}function _h(e){let t,n;return t=new Qn({props:{path:"data/floor2.svg"}}),{c(){oe(t.$$.fragment)},m(r,i){Q(t,r,i),n=!0},p:U,i(r){n||(M(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){J(t,r)}}}function gh(e){let t,n,r,i,s,o;return t=new dn({props:{name:"T",type:"floor",$$slots:{default:[ph]},$$scope:{ctx:e}}}),r=new dn({props:{name:"1",type:"floor",$$slots:{default:[mh]},$$scope:{ctx:e}}}),s=new dn({props:{name:"2",type:"floor",$$slots:{default:[_h]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment),n=Ut(),oe(r.$$.fragment),i=Ut(),oe(s.$$.fragment)},m(u,l){Q(t,u,l),z(u,n,l),Q(r,u,l),z(u,i,l),Q(s,u,l),o=!0},p(u,l){const a={};l&1&&(a.$$scope={dirty:l,ctx:u}),t.$set(a);const c={};l&1&&(c.$$scope={dirty:l,ctx:u}),r.$set(c);const f={};l&1&&(f.$$scope={dirty:l,ctx:u}),s.$set(f)},i(u){o||(M(t.$$.fragment,u),M(r.$$.fragment,u),M(s.$$.fragment,u),o=!0)},o(u){O(t.$$.fragment,u),O(r.$$.fragment,u),O(s.$$.fragment,u),o=!1},d(u){J(t,u),u&&I(n),J(r,u),u&&I(i),J(s,u)}}}function wh(e){let t,n,r,i,s,o;return t=new Ra({props:{viewBox:"0 0 800 800",$$slots:{default:[gh]},$$scope:{ctx:e}}}),r=new na({}),{c(){oe(t.$$.fragment),n=Ut(),oe(r.$$.fragment),i=Ut(),s=we("footer"),s.innerHTML='Powered by <a href="https://github.com/webvis/anymapper">anymapper</a>, by <a href="//hct.iit.cnr.it/">HCT Lab</a> @<a href="//www.iit.cnr.it/">CNR-IIT</a>'},m(u,l){Q(t,u,l),z(u,n,l),Q(r,u,l),z(u,i,l),z(u,s,l),o=!0},p(u,l){const a={};l&1&&(a.$$scope={dirty:l,ctx:u}),t.$set(a)},i(u){o||(M(t.$$.fragment,u),M(r.$$.fragment,u),o=!0)},o(u){O(t.$$.fragment,u),O(r.$$.fragment,u),o=!1},d(u){J(t,u),u&&I(n),J(r,u),u&&I(i),u&&I(s)}}}function vh(e){let t,n;return t=new Jl({props:{$$slots:{default:[wh]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment)},m(r,i){Q(t,r,i),n=!0},p(r,[i]){const s={};i&1&&(s.$$scope={dirty:i,ctx:r}),t.$set(s)},i(r){n||(M(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){J(t,r)}}}class yh extends ne{constructor(t){super(),te(this,t,null,vh,Z,{})}}new yh({target:document.getElementById("app")});
